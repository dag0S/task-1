import{r as s,g as Z,b as J,d as Q,u as ge,A as ue,C as q,k as me,i as ve,aE as fe,D as ee,c as T,a6 as be,b2 as ye,b1 as he,bu as Ce,b4 as Se,b3 as xe,bv as Oe,f as Pe,s as $e,aw as je,a$ as ze,aq as te,al as we,t as Ne}from"./index-EVK1cD6X.js";const K=s.createContext({}),Ee=e=>{const{antCls:o,componentCls:n,iconCls:t,avatarBg:r,avatarColor:a,containerSize:p,containerSizeLG:l,containerSizeSM:g,textFontSize:f,textFontSizeLG:c,textFontSizeSM:h,borderRadius:O,borderRadiusLG:u,borderRadiusSM:P,lineWidth:d,lineType:b}=e,j=(i,z,w)=>({width:i,height:i,borderRadius:"50%",[`&${n}-square`]:{borderRadius:w},[`&${n}-icon`]:{fontSize:z,[`> ${t}`]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Q(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:a,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:r,border:`${ge(d)} ${b} transparent`,"&-image":{background:"transparent"},[`${o}-image-img`]:{display:"block"}}),j(p,f,O)),{"&-lg":Object.assign({},j(l,c,u)),"&-sm":Object.assign({},j(g,h,P)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},ke=e=>{const{componentCls:o,groupBorderColor:n,groupOverlapping:t,groupSpace:r}=e;return{[`${o}-group`]:{display:"inline-flex",[o]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:t}},[`${o}-group-popover`]:{[`${o} + ${o}`]:{marginInlineStart:r}}}},Be=e=>{const{controlHeight:o,controlHeightLG:n,controlHeightSM:t,fontSize:r,fontSizeLG:a,fontSizeXL:p,fontSizeHeading3:l,marginXS:g,marginXXS:f,colorBorderBg:c}=e;return{containerSize:o,containerSizeLG:n,containerSizeSM:t,textFontSize:Math.round((a+p)/2),textFontSizeLG:l,textFontSizeSM:r,groupSpace:f,groupOverlapping:-g,groupBorderColor:c}},oe=Z("Avatar",e=>{const{colorTextLightSolid:o,colorTextPlaceholder:n}=e,t=J(e,{avatarBg:n,avatarColor:o});return[Ee(t),ke(t)]},Be);var Re=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)o.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const ne=s.forwardRef((e,o)=>{const{prefixCls:n,shape:t,size:r,src:a,srcSet:p,icon:l,className:g,rootClassName:f,style:c,alt:h,draggable:O,children:u,crossOrigin:P,gap:d=4,onError:b}=e,j=Re(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","style","alt","draggable","children","crossOrigin","gap","onError"]),[i,z]=s.useState(1),[w,_]=s.useState(!1),[k,B]=s.useState(!0),M=s.useRef(null),N=s.useRef(null),R=ue(o,M),{getPrefixCls:E,avatar:$}=s.useContext(q),C=s.useContext(K),I=()=>{if(!N.current||!M.current)return;const y=N.current.offsetWidth,v=M.current.offsetWidth;y!==0&&v!==0&&d*2<v&&z(v-d*2<y?(v-d*2)/y:1)};s.useEffect(()=>{_(!0)},[]),s.useEffect(()=>{B(!0),z(1)},[a]),s.useEffect(I,[d]);const V=()=>{(b==null?void 0:b())!==!1&&B(!1)},m=me(y=>{var v,H;return(H=(v=r??(C==null?void 0:C.size))!==null&&v!==void 0?v:y)!==null&&H!==void 0?H:"default"}),G=Object.keys(typeof m=="object"?m||{}:{}).some(y=>["xs","sm","md","lg","xl","xxl"].includes(y)),W=ve(G),D=s.useMemo(()=>{if(typeof m!="object")return{};const y=fe.find(H=>W[H]),v=m[y];return v?{width:v,height:v,fontSize:v&&(l||u)?v/2:18}:{}},[W,m]),S=E("avatar",n),x=ee(S),[A,F,ie]=oe(S,x),le=T({[`${S}-lg`]:m==="large",[`${S}-sm`]:m==="small"}),U=s.isValidElement(a),ce=t||(C==null?void 0:C.shape)||"circle",de=T(S,le,$==null?void 0:$.className,`${S}-${ce}`,{[`${S}-image`]:U||a&&k,[`${S}-icon`]:!!l},ie,x,g,f,F),pe=typeof m=="number"?{width:m,height:m,fontSize:l?m/2:18}:{};let L;if(typeof a=="string"&&k)L=s.createElement("img",{src:a,draggable:O,srcSet:p,onError:V,alt:h,crossOrigin:P});else if(U)L=a;else if(l)L=l;else if(w||i!==1){const y=`scale(${i})`,v={msTransform:y,WebkitTransform:y,transform:y};L=s.createElement(be,{onResize:I},s.createElement("span",{className:`${S}-string`,ref:N,style:Object.assign({},v)},u))}else L=s.createElement("span",{className:`${S}-string`,style:{opacity:0},ref:N},u);return A(s.createElement("span",Object.assign({},j,{style:Object.assign(Object.assign(Object.assign(Object.assign({},pe),D),$==null?void 0:$.style),c),className:de,ref:R}),L))}),X=e=>e?typeof e=="function"?e():e:null,Ie=e=>{const{componentCls:o,popoverColor:n,titleMinWidth:t,fontWeightStrong:r,innerPadding:a,boxShadowSecondary:p,colorTextHeading:l,borderRadiusLG:g,zIndexPopup:f,titleMarginBottom:c,colorBgElevated:h,popoverBg:O,titleBorderBottom:u,innerContentPadding:P,titlePadding:d}=e;return[{[o]:Object.assign(Object.assign({},Q(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:f,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":h,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${o}-content`]:{position:"relative"},[`${o}-inner`]:{backgroundColor:O,backgroundClip:"padding-box",borderRadius:g,boxShadow:p,padding:a},[`${o}-title`]:{minWidth:t,marginBottom:c,color:l,fontWeight:r,borderBottom:u,padding:d},[`${o}-inner-content`]:{color:n,padding:P}})},he(e,"var(--antd-arrow-background-color)"),{[`${o}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${o}-content`]:{display:"inline-block"}}}]},Te=e=>{const{componentCls:o}=e;return{[o]:Ce.map(n=>{const t=e[`${n}6`];return{[`&${o}-${n}`]:{"--antd-arrow-background-color":t,[`${o}-inner`]:{backgroundColor:t},[`${o}-arrow`]:{background:"transparent"}}}})}},_e=e=>{const{lineWidth:o,controlHeight:n,fontHeight:t,padding:r,wireframe:a,zIndexPopupBase:p,borderRadiusLG:l,marginXS:g,lineType:f,colorSplit:c,paddingSM:h}=e,O=n-t,u=O/2,P=O/2-o,d=r;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:p+30},Se(e)),xe({contentRadius:l,limitVerticalRadius:!0})),{innerPadding:a?0:12,titleMarginBottom:a?0:g,titlePadding:a?`${u}px ${d}px ${P}px`:0,titleBorderBottom:a?`${o}px ${f} ${c}`:"none",innerContentPadding:a?`${h}px ${d}px`:0})},re=Z("Popover",e=>{const{colorBgElevated:o,colorText:n}=e,t=J(e,{popoverBg:o,popoverColor:n});return[Ie(t),Te(t),ye(t,"zoom-big")]},_e,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Me=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)o.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const se=({title:e,content:o,prefixCls:n})=>!e&&!o?null:s.createElement(s.Fragment,null,e&&s.createElement("div",{className:`${n}-title`},e),o&&s.createElement("div",{className:`${n}-inner-content`},o)),We=e=>{const{hashId:o,prefixCls:n,className:t,style:r,placement:a="top",title:p,content:l,children:g}=e,f=X(p),c=X(l),h=T(o,n,`${n}-pure`,`${n}-placement-${a}`,t);return s.createElement("div",{className:h,style:r},s.createElement("div",{className:`${n}-arrow`}),s.createElement(Oe,Object.assign({},e,{className:o,prefixCls:n}),g||s.createElement(se,{prefixCls:n,title:f,content:c})))},Ae=e=>{const{prefixCls:o,className:n}=e,t=Me(e,["prefixCls","className"]),{getPrefixCls:r}=s.useContext(q),a=r("popover",o),[p,l,g]=re(a);return p(s.createElement(We,Object.assign({},t,{prefixCls:a,hashId:l,className:T(n,g)})))};var Le=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)o.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const Ve=s.forwardRef((e,o)=>{var n,t;const{prefixCls:r,title:a,content:p,overlayClassName:l,placement:g="top",trigger:f="hover",children:c,mouseEnterDelay:h=.1,mouseLeaveDelay:O=.1,onOpenChange:u,overlayStyle:P={},styles:d,classNames:b}=e,j=Le(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:i,className:z,style:w,classNames:_,styles:k}=Pe("popover"),B=i("popover",r),[M,N,R]=re(B),E=i(),$=T(l,N,R,z,_.root,b==null?void 0:b.root),C=T(_.body,b==null?void 0:b.body),[I,V]=$e(!1,{value:(n=e.open)!==null&&n!==void 0?n:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),m=(x,A)=>{V(x,!0),u==null||u(x,A)},G=x=>{x.keyCode===we.ESC&&m(!1,x)},W=x=>{m(x)},D=X(a),S=X(p);return M(s.createElement(je,Object.assign({placement:g,trigger:f,mouseEnterDelay:h,mouseLeaveDelay:O},j,{prefixCls:B,classNames:{root:$,body:C},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},k.root),w),P),d==null?void 0:d.root),body:Object.assign(Object.assign({},k.body),d==null?void 0:d.body)},ref:o,open:I,onOpenChange:W,overlay:D||S?s.createElement(se,{prefixCls:B,title:D,content:S}):null,transitionName:ze(E,"zoom-big",j.transitionName),"data-popover-inject":!0}),te(c,{onKeyDown:x=>{var A,F;s.isValidElement(c)&&((F=c==null?void 0:(A=c.props).onKeyDown)===null||F===void 0||F.call(A,x)),G(x)}})))}),ae=Ve;ae._InternalPanelDoNotUseOrYouWillBeFired=Ae;const Y=e=>{const{size:o,shape:n}=s.useContext(K),t=s.useMemo(()=>({size:e.size||o,shape:e.shape||n}),[e.size,e.shape,o,n]);return s.createElement(K.Provider,{value:t},e.children)},Ge=e=>{var o,n,t,r;const{getPrefixCls:a,direction:p}=s.useContext(q),{prefixCls:l,className:g,rootClassName:f,style:c,maxCount:h,maxStyle:O,size:u,shape:P,maxPopoverPlacement:d,maxPopoverTrigger:b,children:j,max:i}=e,z=a("avatar",l),w=`${z}-group`,_=ee(z),[k,B,M]=oe(z,_),N=T(w,{[`${w}-rtl`]:p==="rtl"},M,_,g,f,B),R=Ne(j).map((C,I)=>te(C,{key:`avatar-key-${I}`})),E=(i==null?void 0:i.count)||h,$=R.length;if(E&&E<$){const C=R.slice(0,E),I=R.slice(E,$),V=(i==null?void 0:i.style)||O,m=((o=i==null?void 0:i.popover)===null||o===void 0?void 0:o.trigger)||b||"hover",G=((n=i==null?void 0:i.popover)===null||n===void 0?void 0:n.placement)||d||"top",W=Object.assign(Object.assign({content:I},i==null?void 0:i.popover),{classNames:{root:T(`${w}-popover`,(r=(t=i==null?void 0:i.popover)===null||t===void 0?void 0:t.classNames)===null||r===void 0?void 0:r.root)},placement:G,trigger:m});return C.push(s.createElement(ae,Object.assign({key:"avatar-popover-key",destroyOnHidden:!0},W),s.createElement(ne,{style:V},`+${$-E}`))),k(s.createElement(Y,{shape:P,size:u},s.createElement("div",{className:N,style:c},C)))}return k(s.createElement(Y,{shape:P,size:u},s.createElement("div",{className:N,style:c},R)))},Fe=ne;Fe.Group=Ge;export{Fe as A};
