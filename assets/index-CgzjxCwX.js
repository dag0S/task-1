import{aF as At,ao as dt,r,a as X,aM as _t,y as M,c as Y,K as ze,J as ft,_ as G,v as Z,ag as Ke,H as jt,bh as tt,al as Re,bi as mt,g as vt,b2 as gt,u as B,b as We,d as Dt,aB as Bt,O as ht,x as fe,a2 as Ht,w as Xt,q as Ie,s as Ve,I as Me,az as be,e as Yt,b8 as Fe,b7 as Ze,aX as Wt,C as Vt,D as pt,a_ as Ct,a$ as Ae,f as Ft,aN as Zt,l as Gt,bj as Ut,j as A,T as wt,F as bt}from"./index-DvJQplNc.js";import{a as ye,R as kt,S as qt,D as Kt}from"./SearchInput-D5R6unwF.js";import{u as Qt}from"./useDebounce-CfwfS9uM.js";import{$ as Xe,A as Jt,S as en}from"./api-B0Uxmt2N.js";import{g as tn,a as nn,R as on,C as rn}from"./row-BWPKn2X6.js";import{A as an}from"./index-CsxAt2pB.js";import"./Dropdown-DPPb0V3F.js";const sn=new dt("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),ln=new dt("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),St=(e,t=!1)=>{const{antCls:n}=e,o=`${n}-fade`,a=t?"&":"";return[At(o,sn,ln,e.motionDurationMid,t),{[`
        ${a}${o}-enter,
        ${a}${o}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${a}${o}-leave`]:{animationTimingFunction:"linear"}}]};var yt=r.createContext({});function nt(e,t,n){var o=t;return!o&&n&&(o="".concat(e,"-").concat(n)),o}function ot(e,t){var n=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if(typeof n!="number"){var a=e.document;n=a.documentElement[o],typeof n!="number"&&(n=a.body[o])}return n}function cn(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},o=e.ownerDocument,a=o.defaultView||o.parentWindow;return n.left+=ot(a),n.top+=ot(a,!0),n}const un=r.memo(function(e){var t=e.children;return t},function(e,t){var n=t.shouldUpdate;return!n});var dn={width:0,height:0,overflow:"hidden",outline:"none"},fn={outline:"none"},mn=X.forwardRef(function(e,t){var n=e.prefixCls,o=e.className,a=e.style,i=e.title,c=e.ariaId,s=e.footer,l=e.closable,d=e.closeIcon,v=e.onClose,u=e.children,C=e.bodyStyle,g=e.bodyProps,p=e.modalRender,f=e.onMouseDown,y=e.onMouseUp,b=e.holderRef,$=e.visible,I=e.forceRender,R=e.width,m=e.height,S=e.classNames,h=e.styles,w=X.useContext(yt),E=w.panel,N=_t(b,E),x=r.useRef(),P=r.useRef();X.useImperativeHandle(t,function(){return{focus:function(){var j;(j=x.current)===null||j===void 0||j.focus({preventScroll:!0})},changeActive:function(j){var J=document,re=J.activeElement;j&&re===P.current?x.current.focus({preventScroll:!0}):!j&&re===x.current&&P.current.focus({preventScroll:!0})}}});var O={};R!==void 0&&(O.width=R),m!==void 0&&(O.height=m);var T=s?X.createElement("div",{className:Y("".concat(n,"-footer"),S==null?void 0:S.footer),style:M({},h==null?void 0:h.footer)},s):null,z=i?X.createElement("div",{className:Y("".concat(n,"-header"),S==null?void 0:S.header),style:M({},h==null?void 0:h.header)},X.createElement("div",{className:"".concat(n,"-title"),id:c},i)):null,H=r.useMemo(function(){return ze(l)==="object"&&l!==null?l:l?{closeIcon:d??X.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[l,d,n]),W=ft(H,!0),U=ze(l)==="object"&&l.disabled,oe=l?X.createElement("button",G({type:"button",onClick:v,"aria-label":"Close"},W,{className:"".concat(n,"-close"),disabled:U}),H.closeIcon):null,V=X.createElement("div",{className:Y("".concat(n,"-content"),S==null?void 0:S.content),style:h==null?void 0:h.content},oe,z,X.createElement("div",G({className:Y("".concat(n,"-body"),S==null?void 0:S.body),style:M(M({},C),h==null?void 0:h.body)},g),u),T);return X.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":i?c:null,"aria-modal":"true",ref:N,style:M(M({},a),O),className:Y(n,o),onMouseDown:f,onMouseUp:y},X.createElement("div",{ref:x,tabIndex:0,style:fn},X.createElement(un,{shouldUpdate:$||I},p?p(V):V)),X.createElement("div",{tabIndex:0,ref:P,style:dn}))}),xt=r.forwardRef(function(e,t){var n=e.prefixCls,o=e.title,a=e.style,i=e.className,c=e.visible,s=e.forceRender,l=e.destroyOnClose,d=e.motionName,v=e.ariaId,u=e.onVisibleChanged,C=e.mousePosition,g=r.useRef(),p=r.useState(),f=Z(p,2),y=f[0],b=f[1],$={};y&&($.transformOrigin=y);function I(){var R=cn(g.current);b(C&&(C.x||C.y)?"".concat(C.x-R.left,"px ").concat(C.y-R.top,"px"):"")}return r.createElement(Ke,{visible:c,onVisibleChanged:u,onAppearPrepare:I,onEnterPrepare:I,forceRender:s,motionName:d,removeOnLeave:l,ref:g},function(R,m){var S=R.className,h=R.style;return r.createElement(mn,G({},e,{ref:t,title:o,ariaId:v,prefixCls:n,holderRef:m,style:M(M(M({},h),a),$),className:Y(i,S)}))})});xt.displayName="Content";var vn=function(t){var n=t.prefixCls,o=t.style,a=t.visible,i=t.maskProps,c=t.motionName,s=t.className;return r.createElement(Ke,{key:"mask",visible:a,motionName:c,leavedClassName:"".concat(n,"-mask-hidden")},function(l,d){var v=l.className,u=l.style;return r.createElement("div",G({ref:d,style:M(M({},u),o),className:Y("".concat(n,"-mask"),v,s)},i))})},gn=function(t){var n=t.prefixCls,o=n===void 0?"rc-dialog":n,a=t.zIndex,i=t.visible,c=i===void 0?!1:i,s=t.keyboard,l=s===void 0?!0:s,d=t.focusTriggerAfterClose,v=d===void 0?!0:d,u=t.wrapStyle,C=t.wrapClassName,g=t.wrapProps,p=t.onClose,f=t.afterOpenChange,y=t.afterClose,b=t.transitionName,$=t.animation,I=t.closable,R=I===void 0?!0:I,m=t.mask,S=m===void 0?!0:m,h=t.maskTransitionName,w=t.maskAnimation,E=t.maskClosable,N=E===void 0?!0:E,x=t.maskStyle,P=t.maskProps,O=t.rootClassName,T=t.classNames,z=t.styles,H=r.useRef(),W=r.useRef(),U=r.useRef(),oe=r.useState(c),V=Z(oe,2),k=V[0],j=V[1],J=jt();function re(){tt(W.current,document.activeElement)||(H.current=document.activeElement)}function se(){if(!tt(W.current,document.activeElement)){var L;(L=U.current)===null||L===void 0||L.focus()}}function F(L){if(L)se();else{if(j(!1),S&&H.current&&v){try{H.current.focus({preventScroll:!0})}catch{}H.current=null}k&&(y==null||y())}f==null||f(L)}function le(L){p==null||p(L)}var ee=r.useRef(!1),te=r.useRef(),D=function(){clearTimeout(te.current),ee.current=!0},ce=function(){te.current=setTimeout(function(){ee.current=!1})},q=null;N&&(q=function(_){ee.current?ee.current=!1:W.current===_.target&&le(_)});function ae(L){if(l&&L.keyCode===Re.ESC){L.stopPropagation(),le(L);return}c&&L.keyCode===Re.TAB&&U.current.changeActive(!L.shiftKey)}r.useEffect(function(){c&&(j(!0),re())},[c]),r.useEffect(function(){return function(){clearTimeout(te.current)}},[]);var ue=M(M(M({zIndex:a},u),z==null?void 0:z.wrapper),{},{display:k?null:"none"});return r.createElement("div",G({className:Y("".concat(o,"-root"),O)},ft(t,{data:!0})),r.createElement(vn,{prefixCls:o,visible:S&&c,motionName:nt(o,h,w),style:M(M({zIndex:a},x),z==null?void 0:z.mask),maskProps:P,className:T==null?void 0:T.mask}),r.createElement("div",G({tabIndex:-1,onKeyDown:ae,className:Y("".concat(o,"-wrap"),C,T==null?void 0:T.wrapper),ref:W,onClick:q,style:ue},g),r.createElement(xt,G({},t,{onMouseDown:D,onMouseUp:ce,ref:U,closable:R,ariaId:J,prefixCls:o,visible:c&&k,onClose:le,onVisibleChanged:F,motionName:nt(o,b,$)}))))},It=function(t){var n=t.visible,o=t.getContainer,a=t.forceRender,i=t.destroyOnClose,c=i===void 0?!1:i,s=t.afterClose,l=t.panelRef,d=r.useState(n),v=Z(d,2),u=v[0],C=v[1],g=r.useMemo(function(){return{panel:l}},[l]);return r.useEffect(function(){n&&C(!0)},[n]),!a&&c&&!u?null:r.createElement(yt.Provider,{value:g},r.createElement(mt,{open:n||a||u,autoDestroy:!1,getContainer:o,autoLock:n||u},r.createElement(gn,G({},t,{destroyOnClose:c,afterClose:function(){s==null||s(),C(!1)}}))))};It.displayName="Dialog";function rt(e){return{position:e,inset:0}}const Rt=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},rt("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},rt("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:St(e)}]},hn=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${B(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},Dt(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${B(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:B(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},Bt(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${B(e.borderRadiusLG)} ${B(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${B(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},pn=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},Cn=e=>{const{componentCls:t}=e,n=tn(e);delete n.xs;const o=Object.keys(n).map(a=>({[`@media (min-width: ${B(n[a])})`]:{width:`var(--${t.replace(".","")}-${a}-width)`}}));return{[`${t}-root`]:{[t]:[{width:`var(--${t.replace(".","")}-xs-width)`}].concat(ht(o))}}},wn=e=>{const t=e.padding,n=e.fontSizeHeading5,o=e.lineHeightHeading5;return We(e,{modalHeaderHeight:e.calc(e.calc(o).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},bn=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${B(e.paddingMD)} ${B(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${B(e.padding)} ${B(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${B(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${B(e.paddingXS)} ${B(e.padding)}`:0,footerBorderTop:e.wireframe?`${B(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${B(e.borderRadiusLG)} ${B(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${B(e.padding*2)} ${B(e.padding*2)} ${B(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM});vt("Modal",e=>{const t=wn(e);return[hn(t),pn(t),Rt(t),gt(t,"zoom"),Cn(t)]},bn,{unitless:{titleLineHeight:!0}});function Mt(){var e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}}function Sn(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var $e=r.createContext(null),yn=function(t){var n=t.visible,o=t.maskTransitionName,a=t.getContainer,i=t.prefixCls,c=t.rootClassName,s=t.icons,l=t.countRender,d=t.showSwitch,v=t.showProgress,u=t.current,C=t.transform,g=t.count,p=t.scale,f=t.minScale,y=t.maxScale,b=t.closeIcon,$=t.onActive,I=t.onClose,R=t.onZoomIn,m=t.onZoomOut,S=t.onRotateRight,h=t.onRotateLeft,w=t.onFlipX,E=t.onFlipY,N=t.onReset,x=t.toolbarRender,P=t.zIndex,O=t.image,T=r.useContext($e),z=s.rotateLeft,H=s.rotateRight,W=s.zoomIn,U=s.zoomOut,oe=s.close,V=s.left,k=s.right,j=s.flipX,J=s.flipY,re="".concat(i,"-operations-operation");r.useEffect(function(){var _=function(Q){Q.keyCode===Re.ESC&&I()};return n&&window.addEventListener("keydown",_),function(){window.removeEventListener("keydown",_)}},[n]);var se=function(K,Q){K.preventDefault(),K.stopPropagation(),$(Q)},F=r.useCallback(function(_){var K=_.type,Q=_.disabled,ie=_.onClick,ne=_.icon;return r.createElement("div",{key:K,className:Y(re,"".concat(i,"-operations-operation-").concat(K),fe({},"".concat(i,"-operations-operation-disabled"),!!Q)),onClick:ie},ne)},[re,i]),le=d?F({icon:V,onClick:function(K){return se(K,-1)},type:"prev",disabled:u===0}):void 0,ee=d?F({icon:k,onClick:function(K){return se(K,1)},type:"next",disabled:u===g-1}):void 0,te=F({icon:J,onClick:E,type:"flipY"}),D=F({icon:j,onClick:w,type:"flipX"}),ce=F({icon:z,onClick:h,type:"rotateLeft"}),q=F({icon:H,onClick:S,type:"rotateRight"}),ae=F({icon:U,onClick:m,type:"zoomOut",disabled:p<=f}),ue=F({icon:W,onClick:R,type:"zoomIn",disabled:p===y}),L=r.createElement("div",{className:"".concat(i,"-operations")},te,D,ce,q,ae,ue);return r.createElement(Ke,{visible:n,motionName:o},function(_){var K=_.className,Q=_.style;return r.createElement(mt,{open:!0,getContainer:a??document.body},r.createElement("div",{className:Y("".concat(i,"-operations-wrapper"),K,c),style:M(M({},Q),{},{zIndex:P})},b===null?null:r.createElement("button",{className:"".concat(i,"-close"),onClick:I},b||oe),d&&r.createElement(r.Fragment,null,r.createElement("div",{className:Y("".concat(i,"-switch-left"),fe({},"".concat(i,"-switch-left-disabled"),u===0)),onClick:function(ne){return se(ne,-1)}},V),r.createElement("div",{className:Y("".concat(i,"-switch-right"),fe({},"".concat(i,"-switch-right-disabled"),u===g-1)),onClick:function(ne){return se(ne,1)}},k)),r.createElement("div",{className:"".concat(i,"-footer")},v&&r.createElement("div",{className:"".concat(i,"-progress")},l?l(u+1,g):r.createElement("bdi",null,"".concat(u+1," / ").concat(g))),x?x(L,M(M({icons:{prevIcon:le,nextIcon:ee,flipYIcon:te,flipXIcon:D,rotateLeftIcon:ce,rotateRightIcon:q,zoomOutIcon:ae,zoomInIcon:ue},actions:{onActive:$,onFlipY:E,onFlipX:w,onRotateLeft:h,onRotateRight:S,onZoomOut:m,onZoomIn:R,onReset:N,onClose:I},transform:C},T?{current:u,total:g}:{}),{},{image:O})):L)))})},Oe={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function xn(e,t,n,o){var a=r.useRef(null),i=r.useRef([]),c=r.useState(Oe),s=Z(c,2),l=s[0],d=s[1],v=function(p){d(Oe),Ht(Oe,l)||o==null||o({transform:Oe,action:p})},u=function(p,f){a.current===null&&(i.current=[],a.current=Xt(function(){d(function(y){var b=y;return i.current.forEach(function($){b=M(M({},b),$)}),a.current=null,o==null||o({transform:b,action:f}),b})})),i.current.push(M(M({},l),p))},C=function(p,f,y,b,$){var I=e.current,R=I.width,m=I.height,S=I.offsetWidth,h=I.offsetHeight,w=I.offsetLeft,E=I.offsetTop,N=p,x=l.scale*p;x>n?(x=n,N=n/l.scale):x<t&&(x=$?x:t,N=x/l.scale);var P=y??innerWidth/2,O=b??innerHeight/2,T=N-1,z=T*R*.5,H=T*m*.5,W=T*(P-l.x-w),U=T*(O-l.y-E),oe=l.x-(W-z),V=l.y-(U-H);if(p<1&&x===1){var k=S*x,j=h*x,J=Mt(),re=J.width,se=J.height;k<=re&&j<=se&&(oe=0,V=0)}u({x:oe,y:V,scale:x},f)};return{transform:l,resetTransform:v,updateTransform:u,dispatchZoomChange:C}}function at(e,t,n,o){var a=t+n,i=(n-o)/2;if(n>o){if(t>0)return fe({},e,i);if(t<0&&a<o)return fe({},e,-i)}else if(t<0||a>o)return fe({},e,t<0?i:-i);return{}}function $t(e,t,n,o){var a=Mt(),i=a.width,c=a.height,s=null;return e<=i&&t<=c?s={x:0,y:0}:(e>i||t>c)&&(s=M(M({},at("x",n,e,i)),at("y",o,t,c))),s}var xe=1,In=1;function Rn(e,t,n,o,a,i,c){var s=a.rotate,l=a.scale,d=a.x,v=a.y,u=r.useState(!1),C=Z(u,2),g=C[0],p=C[1],f=r.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),y=function(m){!t||m.button!==0||(m.preventDefault(),m.stopPropagation(),f.current={diffX:m.pageX-d,diffY:m.pageY-v,transformX:d,transformY:v},p(!0))},b=function(m){n&&g&&i({x:m.pageX-f.current.diffX,y:m.pageY-f.current.diffY},"move")},$=function(){if(n&&g){p(!1);var m=f.current,S=m.transformX,h=m.transformY,w=d!==S&&v!==h;if(!w)return;var E=e.current.offsetWidth*l,N=e.current.offsetHeight*l,x=e.current.getBoundingClientRect(),P=x.left,O=x.top,T=s%180!==0,z=$t(T?N:E,T?E:N,P,O);z&&i(M({},z),"dragRebound")}},I=function(m){if(!(!n||m.deltaY==0)){var S=Math.abs(m.deltaY/100),h=Math.min(S,In),w=xe+h*o;m.deltaY>0&&(w=xe/w),c(w,"wheel",m.clientX,m.clientY)}};return r.useEffect(function(){var R,m,S,h;if(t){S=ye(window,"mouseup",$,!1),h=ye(window,"mousemove",b,!1);try{window.top!==window.self&&(R=ye(window.top,"mouseup",$,!1),m=ye(window.top,"mousemove",b,!1))}catch{}}return function(){var w,E,N,x;(w=S)===null||w===void 0||w.remove(),(E=h)===null||E===void 0||E.remove(),(N=R)===null||N===void 0||N.remove(),(x=m)===null||x===void 0||x.remove()}},[n,g,d,v,s,t]),{isMoving:g,onMouseDown:y,onMouseMove:b,onMouseUp:$,onWheel:I}}function Mn(e){return new Promise(function(t){if(!e){t(!1);return}var n=document.createElement("img");n.onerror=function(){return t(!1)},n.onload=function(){return t(!0)},n.src=e})}function Et(e){var t=e.src,n=e.isCustomPlaceholder,o=e.fallback,a=r.useState(n?"loading":"normal"),i=Z(a,2),c=i[0],s=i[1],l=r.useRef(!1),d=c==="error";r.useEffect(function(){var g=!0;return Mn(t).then(function(p){!p&&g&&s("error")}),function(){g=!1}},[t]),r.useEffect(function(){n&&!l.current?s("loading"):d&&s("normal")},[t]);var v=function(){s("normal")},u=function(p){l.current=!1,c==="loading"&&p!==null&&p!==void 0&&p.complete&&(p.naturalWidth||p.naturalHeight)&&(l.current=!0,v())},C=d&&o?{src:o}:{onLoad:v,src:t};return[u,C,c]}function _e(e,t){var n=e.x-t.x,o=e.y-t.y;return Math.hypot(n,o)}function $n(e,t,n,o){var a=_e(e,n),i=_e(t,o);if(a===0&&i===0)return[e.x,e.y];var c=a/(a+i),s=e.x+c*(t.x-e.x),l=e.y+c*(t.y-e.y);return[s,l]}function En(e,t,n,o,a,i,c){var s=a.rotate,l=a.scale,d=a.x,v=a.y,u=r.useState(!1),C=Z(u,2),g=C[0],p=C[1],f=r.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),y=function(m){f.current=M(M({},f.current),m)},b=function(m){if(t){m.stopPropagation(),p(!0);var S=m.touches,h=S===void 0?[]:S;h.length>1?y({point1:{x:h[0].clientX,y:h[0].clientY},point2:{x:h[1].clientX,y:h[1].clientY},eventType:"touchZoom"}):y({point1:{x:h[0].clientX-d,y:h[0].clientY-v},eventType:"move"})}},$=function(m){var S=m.touches,h=S===void 0?[]:S,w=f.current,E=w.point1,N=w.point2,x=w.eventType;if(h.length>1&&x==="touchZoom"){var P={x:h[0].clientX,y:h[0].clientY},O={x:h[1].clientX,y:h[1].clientY},T=$n(E,N,P,O),z=Z(T,2),H=z[0],W=z[1],U=_e(P,O)/_e(E,N);c(U,"touchZoom",H,W,!0),y({point1:P,point2:O,eventType:"touchZoom"})}else x==="move"&&(i({x:h[0].clientX-E.x,y:h[0].clientY-E.y},"move"),y({eventType:"move"}))},I=function(){if(n){if(g&&p(!1),y({eventType:"none"}),o>l)return i({x:0,y:0,scale:o},"touchZoom");var m=e.current.offsetWidth*l,S=e.current.offsetHeight*l,h=e.current.getBoundingClientRect(),w=h.left,E=h.top,N=s%180!==0,x=$t(N?S:m,N?m:S,w,E);x&&i(M({},x),"dragRebound")}};return r.useEffect(function(){var R;return n&&t&&(R=ye(window,"touchmove",function(m){return m.preventDefault()},{passive:!1})),function(){var m;(m=R)===null||m===void 0||m.remove()}},[n,t]),{isTouching:g,onTouchStart:b,onTouchMove:$,onTouchEnd:I}}var Nn=["fallback","src","imgRef"],Tn=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],Pn=function(t){var n=t.fallback,o=t.src,a=t.imgRef,i=Ie(t,Nn),c=Et({src:o,fallback:n}),s=Z(c,2),l=s[0],d=s[1];return X.createElement("img",G({ref:function(u){a.current=u,l(u)}},i,d))},Nt=function(t){var n=t.prefixCls,o=t.src,a=t.alt,i=t.imageInfo,c=t.fallback,s=t.movable,l=s===void 0?!0:s,d=t.onClose,v=t.visible,u=t.icons,C=u===void 0?{}:u,g=t.rootClassName,p=t.closeIcon,f=t.getContainer,y=t.current,b=y===void 0?0:y,$=t.count,I=$===void 0?1:$,R=t.countRender,m=t.scaleStep,S=m===void 0?.5:m,h=t.minScale,w=h===void 0?1:h,E=t.maxScale,N=E===void 0?50:E,x=t.transitionName,P=x===void 0?"zoom":x,O=t.maskTransitionName,T=O===void 0?"fade":O,z=t.imageRender,H=t.imgCommonProps,W=t.toolbarRender,U=t.onTransform,oe=t.onChange,V=Ie(t,Tn),k=r.useRef(),j=r.useContext($e),J=j&&I>1,re=j&&I>=1,se=r.useState(!0),F=Z(se,2),le=F[0],ee=F[1],te=xn(k,w,N,U),D=te.transform,ce=te.resetTransform,q=te.updateTransform,ae=te.dispatchZoomChange,ue=Rn(k,l,v,S,D,q,ae),L=ue.isMoving,_=ue.onMouseDown,K=ue.onWheel,Q=En(k,l,v,w,D,q,ae),ie=Q.isTouching,ne=Q.onTouchStart,ge=Q.onTouchMove,we=Q.onTouchEnd,me=D.rotate,ve=D.scale,je=Y(fe({},"".concat(n,"-moving"),L));r.useEffect(function(){le||ee(!0)},[le]);var De=function(){ce("close")},Be=function(){ae(xe+S,"zoomIn")},he=function(){ae(xe/(xe+S),"zoomOut")},pe=function(){q({rotate:me+90},"rotateRight")},Ee=function(){q({rotate:me-90},"rotateLeft")},Ne=function(){q({flipX:!D.flipX},"flipX")},Te=function(){q({flipY:!D.flipY},"flipY")},Ot=function(){ce("reset")},He=function(Ce){var Pe=b+Ce;!Number.isInteger(Pe)||Pe<0||Pe>I-1||(ee(!1),ce(Ce<0?"prev":"next"),oe==null||oe(Pe,b))},Lt=function(Ce){!v||!J||(Ce.keyCode===Re.LEFT?He(-1):Ce.keyCode===Re.RIGHT&&He(1))},zt=function(Ce){v&&(ve!==1?q({x:0,y:0,scale:1},"doubleClick"):ae(xe+S,"doubleClick",Ce.clientX,Ce.clientY))};r.useEffect(function(){var de=ye(window,"keydown",Lt,!1);return function(){de.remove()}},[v,J,b]);var Je=X.createElement(Pn,G({},H,{width:t.width,height:t.height,imgRef:k,className:"".concat(n,"-img"),alt:a,style:{transform:"translate3d(".concat(D.x,"px, ").concat(D.y,"px, 0) scale3d(").concat(D.flipX?"-":"").concat(ve,", ").concat(D.flipY?"-":"").concat(ve,", 1) rotate(").concat(me,"deg)"),transitionDuration:(!le||ie)&&"0s"},fallback:c,src:o,onWheel:K,onMouseDown:_,onDoubleClick:zt,onTouchStart:ne,onTouchMove:ge,onTouchEnd:we,onTouchCancel:we})),et=M({url:o,alt:a},i);return X.createElement(X.Fragment,null,X.createElement(It,G({transitionName:P,maskTransitionName:T,closable:!1,keyboard:!0,prefixCls:n,onClose:d,visible:v,classNames:{wrapper:je},rootClassName:g,getContainer:f},V,{afterClose:De}),X.createElement("div",{className:"".concat(n,"-img-wrapper")},z?z(Je,M({transform:D,image:et},j?{current:b}:{})):Je)),X.createElement(yn,{visible:v,transform:D,maskTransitionName:T,closeIcon:p,getContainer:f,prefixCls:n,rootClassName:g,icons:C,countRender:R,showSwitch:J,showProgress:re,current:b,count:I,scale:ve,minScale:w,maxScale:N,toolbarRender:W,onActive:He,onZoomIn:Be,onZoomOut:he,onRotateRight:pe,onRotateLeft:Ee,onFlipX:Ne,onFlipY:Te,onClose:d,onReset:Ot,zIndex:V.zIndex!==void 0?V.zIndex+1:void 0,image:et}))},Ge=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function On(e){var t=r.useState({}),n=Z(t,2),o=n[0],a=n[1],i=r.useCallback(function(s,l){return a(function(d){return M(M({},d),{},fe({},s,l))}),function(){a(function(d){var v=M({},d);return delete v[s],v})}},[]),c=r.useMemo(function(){return e?e.map(function(s){if(typeof s=="string")return{data:{src:s}};var l={};return Object.keys(s).forEach(function(d){["src"].concat(ht(Ge)).includes(d)&&(l[d]=s[d])}),{data:l}}):Object.keys(o).reduce(function(s,l){var d=o[l],v=d.canPreview,u=d.data;return v&&s.push({data:u,id:l}),s},[])},[e,o]);return[c,i,!!e]}var Ln=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],zn=["src"],An=function(t){var n,o=t.previewPrefixCls,a=o===void 0?"rc-image-preview":o,i=t.children,c=t.icons,s=c===void 0?{}:c,l=t.items,d=t.preview,v=t.fallback,u=ze(d)==="object"?d:{},C=u.visible,g=u.onVisibleChange,p=u.getContainer,f=u.current,y=u.movable,b=u.minScale,$=u.maxScale,I=u.countRender,R=u.closeIcon,m=u.onChange,S=u.onTransform,h=u.toolbarRender,w=u.imageRender,E=Ie(u,Ln),N=On(l),x=Z(N,3),P=x[0],O=x[1],T=x[2],z=Ve(0,{value:f}),H=Z(z,2),W=H[0],U=H[1],oe=r.useState(!1),V=Z(oe,2),k=V[0],j=V[1],J=((n=P[W])===null||n===void 0?void 0:n.data)||{},re=J.src,se=Ie(J,zn),F=Ve(!!C,{value:C,onChange:function(ie,ne){g==null||g(ie,ne,W)}}),le=Z(F,2),ee=le[0],te=le[1],D=r.useState(null),ce=Z(D,2),q=ce[0],ae=ce[1],ue=r.useCallback(function(Q,ie,ne,ge){var we=T?P.findIndex(function(me){return me.data.src===ie}):P.findIndex(function(me){return me.id===Q});U(we<0?0:we),te(!0),ae({x:ne,y:ge}),j(!0)},[P,T]);r.useEffect(function(){ee?k||U(0):j(!1)},[ee]);var L=function(ie,ne){U(ie),m==null||m(ie,ne)},_=function(){te(!1),ae(null)},K=r.useMemo(function(){return{register:O,onPreview:ue}},[O,ue]);return r.createElement($e.Provider,{value:K},i,r.createElement(Nt,G({"aria-hidden":!ee,movable:y,visible:ee,prefixCls:a,closeIcon:R,onClose:_,mousePosition:q,imgCommonProps:se,src:re,fallback:v,icons:s,minScale:b,maxScale:$,getContainer:p,current:W,count:P.length,countRender:I,onTransform:S,toolbarRender:h,imageRender:w,onChange:L},E)))},it=0;function _n(e,t){var n=r.useState(function(){return it+=1,String(it)}),o=Z(n,1),a=o[0],i=r.useContext($e),c={data:t,canPreview:e};return r.useEffect(function(){if(i)return i.register(a,c)},[]),r.useEffect(function(){i&&i.register(a,c)},[e,t]),a}var jn=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],Dn=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],Qe=function(t){var n=t.src,o=t.alt,a=t.onPreviewClose,i=t.prefixCls,c=i===void 0?"rc-image":i,s=t.previewPrefixCls,l=s===void 0?"".concat(c,"-preview"):s,d=t.placeholder,v=t.fallback,u=t.width,C=t.height,g=t.style,p=t.preview,f=p===void 0?!0:p,y=t.className,b=t.onClick,$=t.onError,I=t.wrapperClassName,R=t.wrapperStyle,m=t.rootClassName,S=Ie(t,jn),h=d&&d!==!0,w=ze(f)==="object"?f:{},E=w.src,N=w.visible,x=N===void 0?void 0:N,P=w.onVisibleChange,O=P===void 0?a:P,T=w.getContainer,z=T===void 0?void 0:T,H=w.mask,W=w.maskClassName,U=w.movable,oe=w.icons,V=w.scaleStep,k=w.minScale,j=w.maxScale,J=w.imageRender,re=w.toolbarRender,se=Ie(w,Dn),F=E??n,le=Ve(!!x,{value:x,onChange:O}),ee=Z(le,2),te=ee[0],D=ee[1],ce=Et({src:n,isCustomPlaceholder:h,fallback:v}),q=Z(ce,3),ae=q[0],ue=q[1],L=q[2],_=r.useState(null),K=Z(_,2),Q=K[0],ie=K[1],ne=r.useContext($e),ge=!!f,we=function(){D(!1),ie(null)},me=Y(c,I,m,fe({},"".concat(c,"-error"),L==="error")),ve=r.useMemo(function(){var he={};return Ge.forEach(function(pe){t[pe]!==void 0&&(he[pe]=t[pe])}),he},Ge.map(function(he){return t[he]})),je=r.useMemo(function(){return M(M({},ve),{},{src:F})},[F,ve]),De=_n(ge,je),Be=function(pe){var Ee=Sn(pe.target),Ne=Ee.left,Te=Ee.top;ne?ne.onPreview(De,F,Ne,Te):(ie({x:Ne,y:Te}),D(!0)),b==null||b(pe)};return r.createElement(r.Fragment,null,r.createElement("div",G({},S,{className:me,onClick:ge?Be:b,style:M({width:u,height:C},R)}),r.createElement("img",G({},ve,{className:Y("".concat(c,"-img"),fe({},"".concat(c,"-img-placeholder"),d===!0),y),style:M({height:C},g),ref:ae},ue,{width:u,height:C,onError:$})),L==="loading"&&r.createElement("div",{"aria-hidden":"true",className:"".concat(c,"-placeholder")},d),H&&ge&&r.createElement("div",{className:Y("".concat(c,"-mask"),W),style:{display:(g==null?void 0:g.display)==="none"?"none":void 0}},H)),!ne&&ge&&r.createElement(Nt,G({"aria-hidden":!te,visible:te,prefixCls:l,onClose:we,mousePosition:Q,src:F,alt:o,imageInfo:{width:u,height:C},fallback:v,getContainer:z,icons:oe,movable:U,scaleStep:V,minScale:k,maxScale:j,rootClassName:m,imageRender:J,imgCommonProps:ve,toolbarRender:re},se)))};Qe.PreviewGroup=An;var Bn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},Hn=function(t,n){return r.createElement(Me,G({},t,{ref:n,icon:Bn}))},Xn=r.forwardRef(Hn),Yn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},Wn=function(t,n){return r.createElement(Me,G({},t,{ref:n,icon:Yn}))},Vn=r.forwardRef(Wn),Fn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},Zn=function(t,n){return r.createElement(Me,G({},t,{ref:n,icon:Fn}))},st=r.forwardRef(Zn),Gn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},Un=function(t,n){return r.createElement(Me,G({},t,{ref:n,icon:Gn}))},kn=r.forwardRef(Un),qn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},Kn=function(t,n){return r.createElement(Me,G({},t,{ref:n,icon:qn}))},Qn=r.forwardRef(Kn);const Ue=e=>({position:e||"absolute",inset:0}),Jn=e=>{const{iconCls:t,motionDurationSlow:n,paddingXXS:o,marginXXS:a,prefixCls:i,colorTextLightSolid:c}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:c,background:new be("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${i}-mask-info`]:Object.assign(Object.assign({},Yt),{padding:`0 ${B(o)}`,[t]:{marginInlineEnd:a,svg:{verticalAlign:"baseline"}}})}},eo=e=>{const{previewCls:t,modalMaskBg:n,paddingSM:o,marginXL:a,margin:i,paddingLG:c,previewOperationColorDisabled:s,previewOperationHoverColor:l,motionDurationSlow:d,iconCls:v,colorTextLightSolid:u}=e,C=new be(n).setA(.1),g=C.clone().setA(.2);return{[`${t}-footer`]:{position:"fixed",bottom:a,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${t}-progress`]:{marginBottom:i},[`${t}-close`]:{position:"fixed",top:a,right:{_skip_check_:!0,value:a},display:"flex",color:u,backgroundColor:C.toRgbString(),borderRadius:"50%",padding:o,outline:0,border:0,cursor:"pointer",transition:`all ${d}`,"&:hover":{backgroundColor:g.toRgbString()},[`& > ${v}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${B(c)}`,backgroundColor:C.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:o,padding:o,cursor:"pointer",transition:`all ${d}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${v}`]:{color:l},"&-disabled":{color:s,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${v}`]:{fontSize:e.previewOperationSize}}}}},to=e=>{const{modalMaskBg:t,iconCls:n,previewOperationColorDisabled:o,previewCls:a,zIndexPopup:i,motionDurationSlow:c}=e,s=new be(t).setA(.1),l=s.clone().setA(.2);return{[`${a}-switch-left, ${a}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(i).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:s.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${c}`,userSelect:"none","&:hover":{background:l.toRgbString()},"&-disabled":{"&, &:hover":{color:o,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:e.previewOperationSize}},[`${a}-switch-left`]:{insetInlineStart:e.marginSM},[`${a}-switch-right`]:{insetInlineEnd:e.marginSM}}},no=e=>{const{motionEaseOut:t,previewCls:n,motionDurationSlow:o,componentCls:a}=e;return[{[`${a}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:Object.assign(Object.assign({},Ue()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${o} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},Ue()),{transition:`transform ${o} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${a}-preview-root`]:{[`${n}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${a}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[eo(e),to(e)]}]},oo=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},Jn(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},Ue())}}},ro=e=>{const{previewCls:t}=e;return{[`${t}-root`]:gt(e,"zoom"),"&":St(e,!0)}},ao=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new be(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new be(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new be(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),Tt=vt("Image",e=>{const t=`${e.componentCls}-preview`,n=We(e,{previewCls:t,modalMaskBg:new be("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[oo(n),no(n),Rt(We(n,{componentCls:t})),ro(n)]},ao);var io=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const Pt={rotateLeft:r.createElement(Xn,null),rotateRight:r.createElement(Vn,null),zoomIn:r.createElement(kn,null),zoomOut:r.createElement(Qn,null),close:r.createElement(Wt,null),left:r.createElement(Ze,null),right:r.createElement(Fe,null),flipX:r.createElement(st,null),flipY:r.createElement(st,{rotate:90})},so=e=>{var{previewPrefixCls:t,preview:n}=e,o=io(e,["previewPrefixCls","preview"]);const{getPrefixCls:a,direction:i}=r.useContext(Vt),c=a("image",t),s=`${c}-preview`,l=a(),d=pt(c),[v,u,C]=Tt(c,d),[g]=Ct("ImagePreview",typeof n=="object"?n.zIndex:void 0),p=r.useMemo(()=>Object.assign(Object.assign({},Pt),{left:i==="rtl"?r.createElement(Fe,null):r.createElement(Ze,null),right:i==="rtl"?r.createElement(Ze,null):r.createElement(Fe,null)}),[i]),f=r.useMemo(()=>{var y;if(n===!1)return n;const b=typeof n=="object"?n:{},$=Y(u,C,d,(y=b.rootClassName)!==null&&y!==void 0?y:"");return Object.assign(Object.assign({},b),{transitionName:Ae(l,"zoom",b.transitionName),maskTransitionName:Ae(l,"fade",b.maskTransitionName),rootClassName:$,zIndex:g})},[n]);return v(r.createElement(Qe.PreviewGroup,Object.assign({preview:f,previewPrefixCls:s,icons:p},o)))};var lt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const ke=e=>{const{prefixCls:t,preview:n,className:o,rootClassName:a,style:i}=e,c=lt(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:s,getPopupContainer:l,className:d,style:v,preview:u}=Ft("image"),[C]=Zt("Image"),g=s("image",t),p=s(),f=pt(g),[y,b,$]=Tt(g,f),I=Y(a,b,$,f),R=Y(o,b,d),[m]=Ct("ImagePreview",typeof n=="object"?n.zIndex:void 0),S=r.useMemo(()=>{if(n===!1)return n;const w=typeof n=="object"?n:{},{getContainer:E,closeIcon:N,rootClassName:x,destroyOnClose:P,destroyOnHidden:O}=w,T=lt(w,["getContainer","closeIcon","rootClassName","destroyOnClose","destroyOnHidden"]);return Object.assign(Object.assign({mask:r.createElement("div",{className:`${g}-mask-info`},r.createElement(kt,null),C==null?void 0:C.preview),icons:Pt},T),{destroyOnClose:O??P,rootClassName:Y(I,x),getContainer:E??l,transitionName:Ae(p,"zoom",w.transitionName),maskTransitionName:Ae(p,"fade",w.maskTransitionName),zIndex:m,closeIcon:N??(u==null?void 0:u.closeIcon)})},[n,C,u==null?void 0:u.closeIcon]),h=Object.assign(Object.assign({},v),i);return y(r.createElement(Qe,Object.assign({prefixCls:g,preview:S,rootClassName:I,className:R,style:h},c)))};ke.PreviewGroup=so;var qe=new Map,Le=new WeakMap,ct=0,lo=void 0;function co(e){return e?(Le.has(e)||(ct+=1,Le.set(e,ct.toString())),Le.get(e)):"0"}function uo(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?co(e.root):e[t]}`).toString()}function fo(e){const t=uo(e);let n=qe.get(t);if(!n){const o=new Map;let a;const i=new IntersectionObserver(c=>{c.forEach(s=>{var l;const d=s.isIntersecting&&a.some(v=>s.intersectionRatio>=v);e.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=d),(l=o.get(s.target))==null||l.forEach(v=>{v(d,s)})})},e);a=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:i,elements:o},qe.set(t,n)}return n}function mo(e,t,n={},o=lo){if(typeof window.IntersectionObserver>"u"&&o!==void 0){const l=e.getBoundingClientRect();return t(o,{isIntersecting:o,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:a,observer:i,elements:c}=fo(n),s=c.get(e)||[];return c.has(e)||c.set(e,s),s.push(t),i.observe(e),function(){s.splice(s.indexOf(t),1),s.length===0&&(c.delete(e),i.unobserve(e)),c.size===0&&(i.disconnect(),qe.delete(a))}}function vo({threshold:e,delay:t,trackVisibility:n,rootMargin:o,root:a,triggerOnce:i,skip:c,initialInView:s,fallbackInView:l,onChange:d}={}){var v;const[u,C]=r.useState(null),g=r.useRef(d),[p,f]=r.useState({inView:!!s,entry:void 0});g.current=d,r.useEffect(()=>{if(c||!u)return;let I;return I=mo(u,(R,m)=>{f({inView:R,entry:m}),g.current&&g.current(R,m),m.isIntersecting&&i&&I&&(I(),I=void 0)},{root:a,rootMargin:o,threshold:e,trackVisibility:n,delay:t},l),()=>{I&&I()}},[Array.isArray(e)?e.toString():e,u,a,o,i,c,n,l,t]);const y=(v=p.entry)==null?void 0:v.target,b=r.useRef(void 0);!u&&y&&!i&&!c&&b.current!==y&&(b.current=y,f({inView:!!s,entry:void 0}));const $=[C,p.inView,p.entry];return $.ref=$[0],$.inView=$[1],$.entry=$[2],$}const Se=Gt((e,t)=>({albums:[],total:0,isLoading:!1,error:null,hasMore:!0,fetchMoreAlbums:async({page:n,limit:o,searchValue:a,reset:i=!1})=>{const{albums:c,hasMore:s,isLoading:l}=t();if(!(l||!s)){e({isLoading:!0,error:null});try{const d=new URLSearchParams({_page:String(n),_limit:String(o)});a&&d.append("q",a);const[v,u]=await Promise.all([Xe.get(`/albums?${d.toString()}`),Xe.get("/users")]),C=u.data,g=v.data.map(f=>({...f,author:C.find(y=>y.id===f.userId)})),p=await Promise.all(g.map(async f=>{const b=(await Xe.get(`/albums/${f.id}/photos?_limit=6`)).data;return{...f,photos:b}}));e({albums:i?p:[...c,...p],hasMore:g.length>0,isLoading:!1,error:null})}catch{e({error:"Ошибка загрузки альбомов",isLoading:!1})}}},reset:()=>e({albums:[],hasMore:!0})})),{Title:ut,Text:go}=wt,ho=r.memo(({album:e})=>{var n,o,a,i,c;const{theme:t}=Ut();return A.jsx(nn,{styles:{header:{padding:24}},title:A.jsxs(A.Fragment,{children:[A.jsx(ut,{level:3,ellipsis:!0,title:e.title,children:e.title}),A.jsxs(bt,{gap:10,children:[A.jsx(an,{children:(n=e.author)==null?void 0:n.name[0]}),A.jsxs("div",{children:[A.jsxs(ut,{level:5,style:{marginBottom:0},children:[(o=e.author)==null?void 0:o.name," (",(a=e.author)==null?void 0:a.username,")"]}),A.jsx(go,{type:"secondary",children:"Почта: "}),A.jsx("a",{href:`mailto:${(i=e.author)==null?void 0:i.email}`,target:"_blank",children:(c=e.author)==null?void 0:c.email})]})]})]}),hoverable:!0,children:A.jsx(ke.PreviewGroup,{children:e.photos.map(s=>A.jsx(ke,{src:s.thumbnailUrl.replace("via.placeholder.com","dummyimage.com"),width:60,height:60,fallback:"/task-1/img-placeholder.png",alt:s.title},s.id))},t)})}),po=({albums:e})=>A.jsx(on,{gutter:[16,16],children:e.length>0&&e.map(t=>A.jsx(rn,{xs:24,sm:24,md:12,lg:8,children:A.jsx(ho,{album:t})},t.id))}),{Title:Co,Text:wo}=wt,Ye=6,$o=()=>{const e=Se(f=>f.albums),t=Se(f=>f.isLoading),n=Se(f=>f.error),o=Se(f=>f.hasMore),a=Se(f=>f.fetchMoreAlbums),i=Se(f=>f.reset),{ref:c,inView:s}=vo(),[l,d]=r.useState(""),[v,u]=r.useState(1),C=r.useRef(!0),g=Qt(l,1e3),p=f=>{d(f.target.value),u(1)};return r.useEffect(()=>{const f=()=>{if(document.documentElement.scrollHeight<=window.innerHeight&&o&&!t){const y=v+1;a({page:y,limit:Ye,searchValue:g}),u(y)}};e.length>0&&f()},[e,o,t]),r.useEffect(()=>{i(),u(1),a({page:1,limit:Ye,reset:!0,searchValue:g})},[g]),r.useEffect(()=>{if(C.current){C.current=!1;return}if(s&&o&&!t){const f=v+1;a({page:f,limit:Ye,searchValue:g}),u(f)}},[s,o,t,v]),A.jsxs(bt,{vertical:!0,gap:16,children:[A.jsx(Co,{level:2,style:{marginBottom:0},children:"Альбомы"}),A.jsx(qt,{value:l,onChange:p,placeholder:"Поиск по названию"}),A.jsx(Kt,{style:{margin:0}}),n&&A.jsx(Jt,{type:"error",message:n}),A.jsx(po,{albums:e}),A.jsxs("div",{ref:c,style:{textAlign:"center",padding:24},children:[t&&A.jsx(en,{}),!o&&A.jsx(wo,{strong:!0,children:"Все альбомы загружены"})]})]})};export{$o as Component};
