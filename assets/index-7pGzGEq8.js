import{aF as zt,ao as ut,r,a as X,aM as At,y as M,c as Y,K as ze,J as dt,_ as G,v as Z,ag as qe,H as _t,bh as et,al as Re,bi as ft,g as mt,b2 as vt,u as B,b as Ye,d as jt,aB as Dt,O as gt,x as fe,a2 as Bt,w as Ht,q as Ie,s as We,I as Me,az as be,e as Xt,b8 as Ve,b7 as Fe,aX as Yt,C as Wt,D as ht,a_ as pt,a$ as Ae,f as Vt,aN as Ft,l as Zt,bj as Gt,j as A,T as Ct,F as wt}from"./index-TIGid5ut.js";import{a as ye,R as Ut,S as kt,D as qt}from"./SearchInput-DLs35Iv5.js";import{u as Kt}from"./useDebounce-C7AFtZDp.js";import{$ as Xe,A as Qt,S as Jt}from"./api-BiByZXLc.js";import{g as en,a as tn,R as nn,C as on}from"./row-3noq2tsD.js";import{A as rn}from"./index-FWUVPgfC.js";import"./Dropdown-Bat2p_zx.js";const an=new ut("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),sn=new ut("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),bt=(e,t=!1)=>{const{antCls:n}=e,o=`${n}-fade`,a=t?"&":"";return[zt(o,an,sn,e.motionDurationMid,t),{[`
        ${a}${o}-enter,
        ${a}${o}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${a}${o}-leave`]:{animationTimingFunction:"linear"}}]};var St=r.createContext({});function tt(e,t,n){var o=t;return!o&&n&&(o="".concat(e,"-").concat(n)),o}function nt(e,t){var n=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if(typeof n!="number"){var a=e.document;n=a.documentElement[o],typeof n!="number"&&(n=a.body[o])}return n}function ln(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},o=e.ownerDocument,a=o.defaultView||o.parentWindow;return n.left+=nt(a),n.top+=nt(a,!0),n}const cn=r.memo(function(e){var t=e.children;return t},function(e,t){var n=t.shouldUpdate;return!n});var un={width:0,height:0,overflow:"hidden",outline:"none"},dn={outline:"none"},fn=X.forwardRef(function(e,t){var n=e.prefixCls,o=e.className,a=e.style,i=e.title,c=e.ariaId,s=e.footer,l=e.closable,d=e.closeIcon,v=e.onClose,u=e.children,C=e.bodyStyle,g=e.bodyProps,p=e.modalRender,m=e.onMouseDown,x=e.onMouseUp,b=e.holderRef,$=e.visible,I=e.forceRender,R=e.width,f=e.height,S=e.classNames,h=e.styles,w=X.useContext(St),E=w.panel,N=At(b,E),y=r.useRef(),P=r.useRef();X.useImperativeHandle(t,function(){return{focus:function(){var j;(j=y.current)===null||j===void 0||j.focus({preventScroll:!0})},changeActive:function(j){var J=document,re=J.activeElement;j&&re===P.current?y.current.focus({preventScroll:!0}):!j&&re===y.current&&P.current.focus({preventScroll:!0})}}});var O={};R!==void 0&&(O.width=R),f!==void 0&&(O.height=f);var T=s?X.createElement("div",{className:Y("".concat(n,"-footer"),S==null?void 0:S.footer),style:M({},h==null?void 0:h.footer)},s):null,z=i?X.createElement("div",{className:Y("".concat(n,"-header"),S==null?void 0:S.header),style:M({},h==null?void 0:h.header)},X.createElement("div",{className:"".concat(n,"-title"),id:c},i)):null,H=r.useMemo(function(){return ze(l)==="object"&&l!==null?l:l?{closeIcon:d??X.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[l,d,n]),W=dt(H,!0),U=ze(l)==="object"&&l.disabled,oe=l?X.createElement("button",G({type:"button",onClick:v,"aria-label":"Close"},W,{className:"".concat(n,"-close"),disabled:U}),H.closeIcon):null,V=X.createElement("div",{className:Y("".concat(n,"-content"),S==null?void 0:S.content),style:h==null?void 0:h.content},oe,z,X.createElement("div",G({className:Y("".concat(n,"-body"),S==null?void 0:S.body),style:M(M({},C),h==null?void 0:h.body)},g),u),T);return X.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":i?c:null,"aria-modal":"true",ref:N,style:M(M({},a),O),className:Y(n,o),onMouseDown:m,onMouseUp:x},X.createElement("div",{ref:y,tabIndex:0,style:dn},X.createElement(cn,{shouldUpdate:$||I},p?p(V):V)),X.createElement("div",{tabIndex:0,ref:P,style:un}))}),yt=r.forwardRef(function(e,t){var n=e.prefixCls,o=e.title,a=e.style,i=e.className,c=e.visible,s=e.forceRender,l=e.destroyOnClose,d=e.motionName,v=e.ariaId,u=e.onVisibleChanged,C=e.mousePosition,g=r.useRef(),p=r.useState(),m=Z(p,2),x=m[0],b=m[1],$={};x&&($.transformOrigin=x);function I(){var R=ln(g.current);b(C&&(C.x||C.y)?"".concat(C.x-R.left,"px ").concat(C.y-R.top,"px"):"")}return r.createElement(qe,{visible:c,onVisibleChanged:u,onAppearPrepare:I,onEnterPrepare:I,forceRender:s,motionName:d,removeOnLeave:l,ref:g},function(R,f){var S=R.className,h=R.style;return r.createElement(fn,G({},e,{ref:t,title:o,ariaId:v,prefixCls:n,holderRef:f,style:M(M(M({},h),a),$),className:Y(i,S)}))})});yt.displayName="Content";var mn=function(t){var n=t.prefixCls,o=t.style,a=t.visible,i=t.maskProps,c=t.motionName,s=t.className;return r.createElement(qe,{key:"mask",visible:a,motionName:c,leavedClassName:"".concat(n,"-mask-hidden")},function(l,d){var v=l.className,u=l.style;return r.createElement("div",G({ref:d,style:M(M({},u),o),className:Y("".concat(n,"-mask"),v,s)},i))})},vn=function(t){var n=t.prefixCls,o=n===void 0?"rc-dialog":n,a=t.zIndex,i=t.visible,c=i===void 0?!1:i,s=t.keyboard,l=s===void 0?!0:s,d=t.focusTriggerAfterClose,v=d===void 0?!0:d,u=t.wrapStyle,C=t.wrapClassName,g=t.wrapProps,p=t.onClose,m=t.afterOpenChange,x=t.afterClose,b=t.transitionName,$=t.animation,I=t.closable,R=I===void 0?!0:I,f=t.mask,S=f===void 0?!0:f,h=t.maskTransitionName,w=t.maskAnimation,E=t.maskClosable,N=E===void 0?!0:E,y=t.maskStyle,P=t.maskProps,O=t.rootClassName,T=t.classNames,z=t.styles,H=r.useRef(),W=r.useRef(),U=r.useRef(),oe=r.useState(c),V=Z(oe,2),k=V[0],j=V[1],J=_t();function re(){et(W.current,document.activeElement)||(H.current=document.activeElement)}function se(){if(!et(W.current,document.activeElement)){var L;(L=U.current)===null||L===void 0||L.focus()}}function F(L){if(L)se();else{if(j(!1),S&&H.current&&v){try{H.current.focus({preventScroll:!0})}catch{}H.current=null}k&&(x==null||x())}m==null||m(L)}function le(L){p==null||p(L)}var ee=r.useRef(!1),te=r.useRef(),D=function(){clearTimeout(te.current),ee.current=!0},ce=function(){te.current=setTimeout(function(){ee.current=!1})},q=null;N&&(q=function(_){ee.current?ee.current=!1:W.current===_.target&&le(_)});function ae(L){if(l&&L.keyCode===Re.ESC){L.stopPropagation(),le(L);return}c&&L.keyCode===Re.TAB&&U.current.changeActive(!L.shiftKey)}r.useEffect(function(){c&&(j(!0),re())},[c]),r.useEffect(function(){return function(){clearTimeout(te.current)}},[]);var ue=M(M(M({zIndex:a},u),z==null?void 0:z.wrapper),{},{display:k?null:"none"});return r.createElement("div",G({className:Y("".concat(o,"-root"),O)},dt(t,{data:!0})),r.createElement(mn,{prefixCls:o,visible:S&&c,motionName:tt(o,h,w),style:M(M({zIndex:a},y),z==null?void 0:z.mask),maskProps:P,className:T==null?void 0:T.mask}),r.createElement("div",G({tabIndex:-1,onKeyDown:ae,className:Y("".concat(o,"-wrap"),C,T==null?void 0:T.wrapper),ref:W,onClick:q,style:ue},g),r.createElement(yt,G({},t,{onMouseDown:D,onMouseUp:ce,ref:U,closable:R,ariaId:J,prefixCls:o,visible:c&&k,onClose:le,onVisibleChanged:F,motionName:tt(o,b,$)}))))},xt=function(t){var n=t.visible,o=t.getContainer,a=t.forceRender,i=t.destroyOnClose,c=i===void 0?!1:i,s=t.afterClose,l=t.panelRef,d=r.useState(n),v=Z(d,2),u=v[0],C=v[1],g=r.useMemo(function(){return{panel:l}},[l]);return r.useEffect(function(){n&&C(!0)},[n]),!a&&c&&!u?null:r.createElement(St.Provider,{value:g},r.createElement(ft,{open:n||a||u,autoDestroy:!1,getContainer:o,autoLock:n||u},r.createElement(vn,G({},t,{destroyOnClose:c,afterClose:function(){s==null||s(),C(!1)}}))))};xt.displayName="Dialog";function ot(e){return{position:e,inset:0}}const It=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},ot("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},ot("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:bt(e)}]},gn=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${B(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},jt(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${B(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:B(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},Dt(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${B(e.borderRadiusLG)} ${B(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${B(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},hn=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},pn=e=>{const{componentCls:t}=e,n=en(e);delete n.xs;const o=Object.keys(n).map(a=>({[`@media (min-width: ${B(n[a])})`]:{width:`var(--${t.replace(".","")}-${a}-width)`}}));return{[`${t}-root`]:{[t]:[{width:`var(--${t.replace(".","")}-xs-width)`}].concat(gt(o))}}},Cn=e=>{const t=e.padding,n=e.fontSizeHeading5,o=e.lineHeightHeading5;return Ye(e,{modalHeaderHeight:e.calc(e.calc(o).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},wn=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${B(e.paddingMD)} ${B(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${B(e.padding)} ${B(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${B(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${B(e.paddingXS)} ${B(e.padding)}`:0,footerBorderTop:e.wireframe?`${B(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${B(e.borderRadiusLG)} ${B(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${B(e.padding*2)} ${B(e.padding*2)} ${B(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM});mt("Modal",e=>{const t=Cn(e);return[gn(t),hn(t),It(t),vt(t,"zoom"),pn(t)]},wn,{unitless:{titleLineHeight:!0}});function Rt(){var e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}}function bn(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var $e=r.createContext(null),Sn=function(t){var n=t.visible,o=t.maskTransitionName,a=t.getContainer,i=t.prefixCls,c=t.rootClassName,s=t.icons,l=t.countRender,d=t.showSwitch,v=t.showProgress,u=t.current,C=t.transform,g=t.count,p=t.scale,m=t.minScale,x=t.maxScale,b=t.closeIcon,$=t.onActive,I=t.onClose,R=t.onZoomIn,f=t.onZoomOut,S=t.onRotateRight,h=t.onRotateLeft,w=t.onFlipX,E=t.onFlipY,N=t.onReset,y=t.toolbarRender,P=t.zIndex,O=t.image,T=r.useContext($e),z=s.rotateLeft,H=s.rotateRight,W=s.zoomIn,U=s.zoomOut,oe=s.close,V=s.left,k=s.right,j=s.flipX,J=s.flipY,re="".concat(i,"-operations-operation");r.useEffect(function(){var _=function(Q){Q.keyCode===Re.ESC&&I()};return n&&window.addEventListener("keydown",_),function(){window.removeEventListener("keydown",_)}},[n]);var se=function(K,Q){K.preventDefault(),K.stopPropagation(),$(Q)},F=r.useCallback(function(_){var K=_.type,Q=_.disabled,ie=_.onClick,ne=_.icon;return r.createElement("div",{key:K,className:Y(re,"".concat(i,"-operations-operation-").concat(K),fe({},"".concat(i,"-operations-operation-disabled"),!!Q)),onClick:ie},ne)},[re,i]),le=d?F({icon:V,onClick:function(K){return se(K,-1)},type:"prev",disabled:u===0}):void 0,ee=d?F({icon:k,onClick:function(K){return se(K,1)},type:"next",disabled:u===g-1}):void 0,te=F({icon:J,onClick:E,type:"flipY"}),D=F({icon:j,onClick:w,type:"flipX"}),ce=F({icon:z,onClick:h,type:"rotateLeft"}),q=F({icon:H,onClick:S,type:"rotateRight"}),ae=F({icon:U,onClick:f,type:"zoomOut",disabled:p<=m}),ue=F({icon:W,onClick:R,type:"zoomIn",disabled:p===x}),L=r.createElement("div",{className:"".concat(i,"-operations")},te,D,ce,q,ae,ue);return r.createElement(qe,{visible:n,motionName:o},function(_){var K=_.className,Q=_.style;return r.createElement(ft,{open:!0,getContainer:a??document.body},r.createElement("div",{className:Y("".concat(i,"-operations-wrapper"),K,c),style:M(M({},Q),{},{zIndex:P})},b===null?null:r.createElement("button",{className:"".concat(i,"-close"),onClick:I},b||oe),d&&r.createElement(r.Fragment,null,r.createElement("div",{className:Y("".concat(i,"-switch-left"),fe({},"".concat(i,"-switch-left-disabled"),u===0)),onClick:function(ne){return se(ne,-1)}},V),r.createElement("div",{className:Y("".concat(i,"-switch-right"),fe({},"".concat(i,"-switch-right-disabled"),u===g-1)),onClick:function(ne){return se(ne,1)}},k)),r.createElement("div",{className:"".concat(i,"-footer")},v&&r.createElement("div",{className:"".concat(i,"-progress")},l?l(u+1,g):r.createElement("bdi",null,"".concat(u+1," / ").concat(g))),y?y(L,M(M({icons:{prevIcon:le,nextIcon:ee,flipYIcon:te,flipXIcon:D,rotateLeftIcon:ce,rotateRightIcon:q,zoomOutIcon:ae,zoomInIcon:ue},actions:{onActive:$,onFlipY:E,onFlipX:w,onRotateLeft:h,onRotateRight:S,onZoomOut:f,onZoomIn:R,onReset:N,onClose:I},transform:C},T?{current:u,total:g}:{}),{},{image:O})):L)))})},Oe={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function yn(e,t,n,o){var a=r.useRef(null),i=r.useRef([]),c=r.useState(Oe),s=Z(c,2),l=s[0],d=s[1],v=function(p){d(Oe),Bt(Oe,l)||o==null||o({transform:Oe,action:p})},u=function(p,m){a.current===null&&(i.current=[],a.current=Ht(function(){d(function(x){var b=x;return i.current.forEach(function($){b=M(M({},b),$)}),a.current=null,o==null||o({transform:b,action:m}),b})})),i.current.push(M(M({},l),p))},C=function(p,m,x,b,$){var I=e.current,R=I.width,f=I.height,S=I.offsetWidth,h=I.offsetHeight,w=I.offsetLeft,E=I.offsetTop,N=p,y=l.scale*p;y>n?(y=n,N=n/l.scale):y<t&&(y=$?y:t,N=y/l.scale);var P=x??innerWidth/2,O=b??innerHeight/2,T=N-1,z=T*R*.5,H=T*f*.5,W=T*(P-l.x-w),U=T*(O-l.y-E),oe=l.x-(W-z),V=l.y-(U-H);if(p<1&&y===1){var k=S*y,j=h*y,J=Rt(),re=J.width,se=J.height;k<=re&&j<=se&&(oe=0,V=0)}u({x:oe,y:V,scale:y},m)};return{transform:l,resetTransform:v,updateTransform:u,dispatchZoomChange:C}}function rt(e,t,n,o){var a=t+n,i=(n-o)/2;if(n>o){if(t>0)return fe({},e,i);if(t<0&&a<o)return fe({},e,-i)}else if(t<0||a>o)return fe({},e,t<0?i:-i);return{}}function Mt(e,t,n,o){var a=Rt(),i=a.width,c=a.height,s=null;return e<=i&&t<=c?s={x:0,y:0}:(e>i||t>c)&&(s=M(M({},rt("x",n,e,i)),rt("y",o,t,c))),s}var xe=1,xn=1;function In(e,t,n,o,a,i,c){var s=a.rotate,l=a.scale,d=a.x,v=a.y,u=r.useState(!1),C=Z(u,2),g=C[0],p=C[1],m=r.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),x=function(f){!t||f.button!==0||(f.preventDefault(),f.stopPropagation(),m.current={diffX:f.pageX-d,diffY:f.pageY-v,transformX:d,transformY:v},p(!0))},b=function(f){n&&g&&i({x:f.pageX-m.current.diffX,y:f.pageY-m.current.diffY},"move")},$=function(){if(n&&g){p(!1);var f=m.current,S=f.transformX,h=f.transformY,w=d!==S&&v!==h;if(!w)return;var E=e.current.offsetWidth*l,N=e.current.offsetHeight*l,y=e.current.getBoundingClientRect(),P=y.left,O=y.top,T=s%180!==0,z=Mt(T?N:E,T?E:N,P,O);z&&i(M({},z),"dragRebound")}},I=function(f){if(!(!n||f.deltaY==0)){var S=Math.abs(f.deltaY/100),h=Math.min(S,xn),w=xe+h*o;f.deltaY>0&&(w=xe/w),c(w,"wheel",f.clientX,f.clientY)}};return r.useEffect(function(){var R,f,S,h;if(t){S=ye(window,"mouseup",$,!1),h=ye(window,"mousemove",b,!1);try{window.top!==window.self&&(R=ye(window.top,"mouseup",$,!1),f=ye(window.top,"mousemove",b,!1))}catch{}}return function(){var w,E,N,y;(w=S)===null||w===void 0||w.remove(),(E=h)===null||E===void 0||E.remove(),(N=R)===null||N===void 0||N.remove(),(y=f)===null||y===void 0||y.remove()}},[n,g,d,v,s,t]),{isMoving:g,onMouseDown:x,onMouseMove:b,onMouseUp:$,onWheel:I}}function Rn(e){return new Promise(function(t){if(!e){t(!1);return}var n=document.createElement("img");n.onerror=function(){return t(!1)},n.onload=function(){return t(!0)},n.src=e})}function $t(e){var t=e.src,n=e.isCustomPlaceholder,o=e.fallback,a=r.useState(n?"loading":"normal"),i=Z(a,2),c=i[0],s=i[1],l=r.useRef(!1),d=c==="error";r.useEffect(function(){var g=!0;return Rn(t).then(function(p){!p&&g&&s("error")}),function(){g=!1}},[t]),r.useEffect(function(){n&&!l.current?s("loading"):d&&s("normal")},[t]);var v=function(){s("normal")},u=function(p){l.current=!1,c==="loading"&&p!==null&&p!==void 0&&p.complete&&(p.naturalWidth||p.naturalHeight)&&(l.current=!0,v())},C=d&&o?{src:o}:{onLoad:v,src:t};return[u,C,c]}function _e(e,t){var n=e.x-t.x,o=e.y-t.y;return Math.hypot(n,o)}function Mn(e,t,n,o){var a=_e(e,n),i=_e(t,o);if(a===0&&i===0)return[e.x,e.y];var c=a/(a+i),s=e.x+c*(t.x-e.x),l=e.y+c*(t.y-e.y);return[s,l]}function $n(e,t,n,o,a,i,c){var s=a.rotate,l=a.scale,d=a.x,v=a.y,u=r.useState(!1),C=Z(u,2),g=C[0],p=C[1],m=r.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),x=function(f){m.current=M(M({},m.current),f)},b=function(f){if(t){f.stopPropagation(),p(!0);var S=f.touches,h=S===void 0?[]:S;h.length>1?x({point1:{x:h[0].clientX,y:h[0].clientY},point2:{x:h[1].clientX,y:h[1].clientY},eventType:"touchZoom"}):x({point1:{x:h[0].clientX-d,y:h[0].clientY-v},eventType:"move"})}},$=function(f){var S=f.touches,h=S===void 0?[]:S,w=m.current,E=w.point1,N=w.point2,y=w.eventType;if(h.length>1&&y==="touchZoom"){var P={x:h[0].clientX,y:h[0].clientY},O={x:h[1].clientX,y:h[1].clientY},T=Mn(E,N,P,O),z=Z(T,2),H=z[0],W=z[1],U=_e(P,O)/_e(E,N);c(U,"touchZoom",H,W,!0),x({point1:P,point2:O,eventType:"touchZoom"})}else y==="move"&&(i({x:h[0].clientX-E.x,y:h[0].clientY-E.y},"move"),x({eventType:"move"}))},I=function(){if(n){if(g&&p(!1),x({eventType:"none"}),o>l)return i({x:0,y:0,scale:o},"touchZoom");var f=e.current.offsetWidth*l,S=e.current.offsetHeight*l,h=e.current.getBoundingClientRect(),w=h.left,E=h.top,N=s%180!==0,y=Mt(N?S:f,N?f:S,w,E);y&&i(M({},y),"dragRebound")}};return r.useEffect(function(){var R;return n&&t&&(R=ye(window,"touchmove",function(f){return f.preventDefault()},{passive:!1})),function(){var f;(f=R)===null||f===void 0||f.remove()}},[n,t]),{isTouching:g,onTouchStart:b,onTouchMove:$,onTouchEnd:I}}var En=["fallback","src","imgRef"],Nn=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],Tn=function(t){var n=t.fallback,o=t.src,a=t.imgRef,i=Ie(t,En),c=$t({src:o,fallback:n}),s=Z(c,2),l=s[0],d=s[1];return X.createElement("img",G({ref:function(u){a.current=u,l(u)}},i,d))},Et=function(t){var n=t.prefixCls,o=t.src,a=t.alt,i=t.imageInfo,c=t.fallback,s=t.movable,l=s===void 0?!0:s,d=t.onClose,v=t.visible,u=t.icons,C=u===void 0?{}:u,g=t.rootClassName,p=t.closeIcon,m=t.getContainer,x=t.current,b=x===void 0?0:x,$=t.count,I=$===void 0?1:$,R=t.countRender,f=t.scaleStep,S=f===void 0?.5:f,h=t.minScale,w=h===void 0?1:h,E=t.maxScale,N=E===void 0?50:E,y=t.transitionName,P=y===void 0?"zoom":y,O=t.maskTransitionName,T=O===void 0?"fade":O,z=t.imageRender,H=t.imgCommonProps,W=t.toolbarRender,U=t.onTransform,oe=t.onChange,V=Ie(t,Nn),k=r.useRef(),j=r.useContext($e),J=j&&I>1,re=j&&I>=1,se=r.useState(!0),F=Z(se,2),le=F[0],ee=F[1],te=yn(k,w,N,U),D=te.transform,ce=te.resetTransform,q=te.updateTransform,ae=te.dispatchZoomChange,ue=In(k,l,v,S,D,q,ae),L=ue.isMoving,_=ue.onMouseDown,K=ue.onWheel,Q=$n(k,l,v,w,D,q,ae),ie=Q.isTouching,ne=Q.onTouchStart,ge=Q.onTouchMove,we=Q.onTouchEnd,me=D.rotate,ve=D.scale,je=Y(fe({},"".concat(n,"-moving"),L));r.useEffect(function(){le||ee(!0)},[le]);var De=function(){ce("close")},Be=function(){ae(xe+S,"zoomIn")},he=function(){ae(xe/(xe+S),"zoomOut")},pe=function(){q({rotate:me+90},"rotateRight")},Ee=function(){q({rotate:me-90},"rotateLeft")},Ne=function(){q({flipX:!D.flipX},"flipX")},Te=function(){q({flipY:!D.flipY},"flipY")},Pt=function(){ce("reset")},He=function(Ce){var Pe=b+Ce;!Number.isInteger(Pe)||Pe<0||Pe>I-1||(ee(!1),ce(Ce<0?"prev":"next"),oe==null||oe(Pe,b))},Ot=function(Ce){!v||!J||(Ce.keyCode===Re.LEFT?He(-1):Ce.keyCode===Re.RIGHT&&He(1))},Lt=function(Ce){v&&(ve!==1?q({x:0,y:0,scale:1},"doubleClick"):ae(xe+S,"doubleClick",Ce.clientX,Ce.clientY))};r.useEffect(function(){var de=ye(window,"keydown",Ot,!1);return function(){de.remove()}},[v,J,b]);var Qe=X.createElement(Tn,G({},H,{width:t.width,height:t.height,imgRef:k,className:"".concat(n,"-img"),alt:a,style:{transform:"translate3d(".concat(D.x,"px, ").concat(D.y,"px, 0) scale3d(").concat(D.flipX?"-":"").concat(ve,", ").concat(D.flipY?"-":"").concat(ve,", 1) rotate(").concat(me,"deg)"),transitionDuration:(!le||ie)&&"0s"},fallback:c,src:o,onWheel:K,onMouseDown:_,onDoubleClick:Lt,onTouchStart:ne,onTouchMove:ge,onTouchEnd:we,onTouchCancel:we})),Je=M({url:o,alt:a},i);return X.createElement(X.Fragment,null,X.createElement(xt,G({transitionName:P,maskTransitionName:T,closable:!1,keyboard:!0,prefixCls:n,onClose:d,visible:v,classNames:{wrapper:je},rootClassName:g,getContainer:m},V,{afterClose:De}),X.createElement("div",{className:"".concat(n,"-img-wrapper")},z?z(Qe,M({transform:D,image:Je},j?{current:b}:{})):Qe)),X.createElement(Sn,{visible:v,transform:D,maskTransitionName:T,closeIcon:p,getContainer:m,prefixCls:n,rootClassName:g,icons:C,countRender:R,showSwitch:J,showProgress:re,current:b,count:I,scale:ve,minScale:w,maxScale:N,toolbarRender:W,onActive:He,onZoomIn:Be,onZoomOut:he,onRotateRight:pe,onRotateLeft:Ee,onFlipX:Ne,onFlipY:Te,onClose:d,onReset:Pt,zIndex:V.zIndex!==void 0?V.zIndex+1:void 0,image:Je}))},Ze=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function Pn(e){var t=r.useState({}),n=Z(t,2),o=n[0],a=n[1],i=r.useCallback(function(s,l){return a(function(d){return M(M({},d),{},fe({},s,l))}),function(){a(function(d){var v=M({},d);return delete v[s],v})}},[]),c=r.useMemo(function(){return e?e.map(function(s){if(typeof s=="string")return{data:{src:s}};var l={};return Object.keys(s).forEach(function(d){["src"].concat(gt(Ze)).includes(d)&&(l[d]=s[d])}),{data:l}}):Object.keys(o).reduce(function(s,l){var d=o[l],v=d.canPreview,u=d.data;return v&&s.push({data:u,id:l}),s},[])},[e,o]);return[c,i,!!e]}var On=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],Ln=["src"],zn=function(t){var n,o=t.previewPrefixCls,a=o===void 0?"rc-image-preview":o,i=t.children,c=t.icons,s=c===void 0?{}:c,l=t.items,d=t.preview,v=t.fallback,u=ze(d)==="object"?d:{},C=u.visible,g=u.onVisibleChange,p=u.getContainer,m=u.current,x=u.movable,b=u.minScale,$=u.maxScale,I=u.countRender,R=u.closeIcon,f=u.onChange,S=u.onTransform,h=u.toolbarRender,w=u.imageRender,E=Ie(u,On),N=Pn(l),y=Z(N,3),P=y[0],O=y[1],T=y[2],z=We(0,{value:m}),H=Z(z,2),W=H[0],U=H[1],oe=r.useState(!1),V=Z(oe,2),k=V[0],j=V[1],J=((n=P[W])===null||n===void 0?void 0:n.data)||{},re=J.src,se=Ie(J,Ln),F=We(!!C,{value:C,onChange:function(ie,ne){g==null||g(ie,ne,W)}}),le=Z(F,2),ee=le[0],te=le[1],D=r.useState(null),ce=Z(D,2),q=ce[0],ae=ce[1],ue=r.useCallback(function(Q,ie,ne,ge){var we=T?P.findIndex(function(me){return me.data.src===ie}):P.findIndex(function(me){return me.id===Q});U(we<0?0:we),te(!0),ae({x:ne,y:ge}),j(!0)},[P,T]);r.useEffect(function(){ee?k||U(0):j(!1)},[ee]);var L=function(ie,ne){U(ie),f==null||f(ie,ne)},_=function(){te(!1),ae(null)},K=r.useMemo(function(){return{register:O,onPreview:ue}},[O,ue]);return r.createElement($e.Provider,{value:K},i,r.createElement(Et,G({"aria-hidden":!ee,movable:x,visible:ee,prefixCls:a,closeIcon:R,onClose:_,mousePosition:q,imgCommonProps:se,src:re,fallback:v,icons:s,minScale:b,maxScale:$,getContainer:p,current:W,count:P.length,countRender:I,onTransform:S,toolbarRender:h,imageRender:w,onChange:L},E)))},at=0;function An(e,t){var n=r.useState(function(){return at+=1,String(at)}),o=Z(n,1),a=o[0],i=r.useContext($e),c={data:t,canPreview:e};return r.useEffect(function(){if(i)return i.register(a,c)},[]),r.useEffect(function(){i&&i.register(a,c)},[e,t]),a}var _n=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],jn=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],Ke=function(t){var n=t.src,o=t.alt,a=t.onPreviewClose,i=t.prefixCls,c=i===void 0?"rc-image":i,s=t.previewPrefixCls,l=s===void 0?"".concat(c,"-preview"):s,d=t.placeholder,v=t.fallback,u=t.width,C=t.height,g=t.style,p=t.preview,m=p===void 0?!0:p,x=t.className,b=t.onClick,$=t.onError,I=t.wrapperClassName,R=t.wrapperStyle,f=t.rootClassName,S=Ie(t,_n),h=d&&d!==!0,w=ze(m)==="object"?m:{},E=w.src,N=w.visible,y=N===void 0?void 0:N,P=w.onVisibleChange,O=P===void 0?a:P,T=w.getContainer,z=T===void 0?void 0:T,H=w.mask,W=w.maskClassName,U=w.movable,oe=w.icons,V=w.scaleStep,k=w.minScale,j=w.maxScale,J=w.imageRender,re=w.toolbarRender,se=Ie(w,jn),F=E??n,le=We(!!y,{value:y,onChange:O}),ee=Z(le,2),te=ee[0],D=ee[1],ce=$t({src:n,isCustomPlaceholder:h,fallback:v}),q=Z(ce,3),ae=q[0],ue=q[1],L=q[2],_=r.useState(null),K=Z(_,2),Q=K[0],ie=K[1],ne=r.useContext($e),ge=!!m,we=function(){D(!1),ie(null)},me=Y(c,I,f,fe({},"".concat(c,"-error"),L==="error")),ve=r.useMemo(function(){var he={};return Ze.forEach(function(pe){t[pe]!==void 0&&(he[pe]=t[pe])}),he},Ze.map(function(he){return t[he]})),je=r.useMemo(function(){return M(M({},ve),{},{src:F})},[F,ve]),De=An(ge,je),Be=function(pe){var Ee=bn(pe.target),Ne=Ee.left,Te=Ee.top;ne?ne.onPreview(De,F,Ne,Te):(ie({x:Ne,y:Te}),D(!0)),b==null||b(pe)};return r.createElement(r.Fragment,null,r.createElement("div",G({},S,{className:me,onClick:ge?Be:b,style:M({width:u,height:C},R)}),r.createElement("img",G({},ve,{className:Y("".concat(c,"-img"),fe({},"".concat(c,"-img-placeholder"),d===!0),x),style:M({height:C},g),ref:ae},ue,{width:u,height:C,onError:$})),L==="loading"&&r.createElement("div",{"aria-hidden":"true",className:"".concat(c,"-placeholder")},d),H&&ge&&r.createElement("div",{className:Y("".concat(c,"-mask"),W),style:{display:(g==null?void 0:g.display)==="none"?"none":void 0}},H)),!ne&&ge&&r.createElement(Et,G({"aria-hidden":!te,visible:te,prefixCls:l,onClose:we,mousePosition:Q,src:F,alt:o,imageInfo:{width:u,height:C},fallback:v,getContainer:z,icons:oe,movable:U,scaleStep:V,minScale:k,maxScale:j,rootClassName:f,imageRender:J,imgCommonProps:ve,toolbarRender:re},se)))};Ke.PreviewGroup=zn;var Dn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},Bn=function(t,n){return r.createElement(Me,G({},t,{ref:n,icon:Dn}))},Hn=r.forwardRef(Bn),Xn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},Yn=function(t,n){return r.createElement(Me,G({},t,{ref:n,icon:Xn}))},Wn=r.forwardRef(Yn),Vn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},Fn=function(t,n){return r.createElement(Me,G({},t,{ref:n,icon:Vn}))},it=r.forwardRef(Fn),Zn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},Gn=function(t,n){return r.createElement(Me,G({},t,{ref:n,icon:Zn}))},Un=r.forwardRef(Gn),kn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},qn=function(t,n){return r.createElement(Me,G({},t,{ref:n,icon:kn}))},Kn=r.forwardRef(qn);const Ge=e=>({position:e||"absolute",inset:0}),Qn=e=>{const{iconCls:t,motionDurationSlow:n,paddingXXS:o,marginXXS:a,prefixCls:i,colorTextLightSolid:c}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:c,background:new be("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${i}-mask-info`]:Object.assign(Object.assign({},Xt),{padding:`0 ${B(o)}`,[t]:{marginInlineEnd:a,svg:{verticalAlign:"baseline"}}})}},Jn=e=>{const{previewCls:t,modalMaskBg:n,paddingSM:o,marginXL:a,margin:i,paddingLG:c,previewOperationColorDisabled:s,previewOperationHoverColor:l,motionDurationSlow:d,iconCls:v,colorTextLightSolid:u}=e,C=new be(n).setA(.1),g=C.clone().setA(.2);return{[`${t}-footer`]:{position:"fixed",bottom:a,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${t}-progress`]:{marginBottom:i},[`${t}-close`]:{position:"fixed",top:a,right:{_skip_check_:!0,value:a},display:"flex",color:u,backgroundColor:C.toRgbString(),borderRadius:"50%",padding:o,outline:0,border:0,cursor:"pointer",transition:`all ${d}`,"&:hover":{backgroundColor:g.toRgbString()},[`& > ${v}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${B(c)}`,backgroundColor:C.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:o,padding:o,cursor:"pointer",transition:`all ${d}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${v}`]:{color:l},"&-disabled":{color:s,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${v}`]:{fontSize:e.previewOperationSize}}}}},eo=e=>{const{modalMaskBg:t,iconCls:n,previewOperationColorDisabled:o,previewCls:a,zIndexPopup:i,motionDurationSlow:c}=e,s=new be(t).setA(.1),l=s.clone().setA(.2);return{[`${a}-switch-left, ${a}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(i).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:s.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${c}`,userSelect:"none","&:hover":{background:l.toRgbString()},"&-disabled":{"&, &:hover":{color:o,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:e.previewOperationSize}},[`${a}-switch-left`]:{insetInlineStart:e.marginSM},[`${a}-switch-right`]:{insetInlineEnd:e.marginSM}}},to=e=>{const{motionEaseOut:t,previewCls:n,motionDurationSlow:o,componentCls:a}=e;return[{[`${a}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:Object.assign(Object.assign({},Ge()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${o} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},Ge()),{transition:`transform ${o} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${a}-preview-root`]:{[`${n}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${a}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[Jn(e),eo(e)]}]},no=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},Qn(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},Ge())}}},oo=e=>{const{previewCls:t}=e;return{[`${t}-root`]:vt(e,"zoom"),"&":bt(e,!0)}},ro=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new be(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new be(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new be(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),Nt=mt("Image",e=>{const t=`${e.componentCls}-preview`,n=Ye(e,{previewCls:t,modalMaskBg:new be("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[no(n),to(n),It(Ye(n,{componentCls:t})),oo(n)]},ro);var ao=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const Tt={rotateLeft:r.createElement(Hn,null),rotateRight:r.createElement(Wn,null),zoomIn:r.createElement(Un,null),zoomOut:r.createElement(Kn,null),close:r.createElement(Yt,null),left:r.createElement(Fe,null),right:r.createElement(Ve,null),flipX:r.createElement(it,null),flipY:r.createElement(it,{rotate:90})},io=e=>{var{previewPrefixCls:t,preview:n}=e,o=ao(e,["previewPrefixCls","preview"]);const{getPrefixCls:a,direction:i}=r.useContext(Wt),c=a("image",t),s=`${c}-preview`,l=a(),d=ht(c),[v,u,C]=Nt(c,d),[g]=pt("ImagePreview",typeof n=="object"?n.zIndex:void 0),p=r.useMemo(()=>Object.assign(Object.assign({},Tt),{left:i==="rtl"?r.createElement(Ve,null):r.createElement(Fe,null),right:i==="rtl"?r.createElement(Fe,null):r.createElement(Ve,null)}),[i]),m=r.useMemo(()=>{var x;if(n===!1)return n;const b=typeof n=="object"?n:{},$=Y(u,C,d,(x=b.rootClassName)!==null&&x!==void 0?x:"");return Object.assign(Object.assign({},b),{transitionName:Ae(l,"zoom",b.transitionName),maskTransitionName:Ae(l,"fade",b.maskTransitionName),rootClassName:$,zIndex:g})},[n]);return v(r.createElement(Ke.PreviewGroup,Object.assign({preview:m,previewPrefixCls:s,icons:p},o)))};var st=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const Ue=e=>{const{prefixCls:t,preview:n,className:o,rootClassName:a,style:i}=e,c=st(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:s,getPopupContainer:l,className:d,style:v,preview:u}=Vt("image"),[C]=Ft("Image"),g=s("image",t),p=s(),m=ht(g),[x,b,$]=Nt(g,m),I=Y(a,b,$,m),R=Y(o,b,d),[f]=pt("ImagePreview",typeof n=="object"?n.zIndex:void 0),S=r.useMemo(()=>{if(n===!1)return n;const w=typeof n=="object"?n:{},{getContainer:E,closeIcon:N,rootClassName:y,destroyOnClose:P,destroyOnHidden:O}=w,T=st(w,["getContainer","closeIcon","rootClassName","destroyOnClose","destroyOnHidden"]);return Object.assign(Object.assign({mask:r.createElement("div",{className:`${g}-mask-info`},r.createElement(Ut,null),C==null?void 0:C.preview),icons:Tt},T),{destroyOnClose:O??P,rootClassName:Y(I,y),getContainer:E??l,transitionName:Ae(p,"zoom",w.transitionName),maskTransitionName:Ae(p,"fade",w.maskTransitionName),zIndex:f,closeIcon:N??(u==null?void 0:u.closeIcon)})},[n,C,u==null?void 0:u.closeIcon]),h=Object.assign(Object.assign({},v),i);return x(r.createElement(Ke,Object.assign({prefixCls:g,preview:S,rootClassName:I,className:R,style:h},c)))};Ue.PreviewGroup=io;var ke=new Map,Le=new WeakMap,lt=0,so=void 0;function lo(e){return e?(Le.has(e)||(lt+=1,Le.set(e,lt.toString())),Le.get(e)):"0"}function co(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?lo(e.root):e[t]}`).toString()}function uo(e){const t=co(e);let n=ke.get(t);if(!n){const o=new Map;let a;const i=new IntersectionObserver(c=>{c.forEach(s=>{var l;const d=s.isIntersecting&&a.some(v=>s.intersectionRatio>=v);e.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=d),(l=o.get(s.target))==null||l.forEach(v=>{v(d,s)})})},e);a=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:i,elements:o},ke.set(t,n)}return n}function fo(e,t,n={},o=so){if(typeof window.IntersectionObserver>"u"&&o!==void 0){const l=e.getBoundingClientRect();return t(o,{isIntersecting:o,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:a,observer:i,elements:c}=uo(n),s=c.get(e)||[];return c.has(e)||c.set(e,s),s.push(t),i.observe(e),function(){s.splice(s.indexOf(t),1),s.length===0&&(c.delete(e),i.unobserve(e)),c.size===0&&(i.disconnect(),ke.delete(a))}}function mo({threshold:e,delay:t,trackVisibility:n,rootMargin:o,root:a,triggerOnce:i,skip:c,initialInView:s,fallbackInView:l,onChange:d}={}){var v;const[u,C]=r.useState(null),g=r.useRef(d),[p,m]=r.useState({inView:!!s,entry:void 0});g.current=d,r.useEffect(()=>{if(c||!u)return;let I;return I=fo(u,(R,f)=>{m({inView:R,entry:f}),g.current&&g.current(R,f),f.isIntersecting&&i&&I&&(I(),I=void 0)},{root:a,rootMargin:o,threshold:e,trackVisibility:n,delay:t},l),()=>{I&&I()}},[Array.isArray(e)?e.toString():e,u,a,o,i,c,n,l,t]);const x=(v=p.entry)==null?void 0:v.target,b=r.useRef(void 0);!u&&x&&!i&&!c&&b.current!==x&&(b.current=x,m({inView:!!s,entry:void 0}));const $=[C,p.inView,p.entry];return $.ref=$[0],$.inView=$[1],$.entry=$[2],$}const Se=Zt((e,t)=>({albums:[],total:0,isLoading:!1,error:null,hasMore:!0,fetchMoreAlbums:async({page:n,limit:o,searchValue:a,reset:i=!1})=>{const{albums:c,hasMore:s,isLoading:l}=t();if(!(l||!s)){e({isLoading:!0,error:null});try{const d=new URLSearchParams({_page:String(n),_limit:String(o)});a&&d.append("q",a);const[v,u]=await Promise.all([Xe.get(`/albums?${d.toString()}`),Xe.get("/users")]),C=u.data,g=v.data.map(m=>({...m,author:C.find(x=>x.id===m.userId)})),p=await Promise.all(g.map(async m=>{const b=(await Xe.get(`/albums/${m.id}/photos?_limit=6`)).data;return{...m,photos:b}}));e({albums:i?p:[...c,...p],hasMore:g.length>0,isLoading:!1,error:null})}catch{e({error:"Ошибка загрузки альбомов",isLoading:!1})}}},reset:()=>e({albums:[],hasMore:!0})})),{Title:ct,Text:vo}=Ct,go=r.memo(({album:e})=>{var n,o,a,i,c;const{theme:t}=Gt();return A.jsx(tn,{styles:{header:{padding:24}},title:A.jsxs(A.Fragment,{children:[A.jsx(ct,{level:3,ellipsis:!0,title:e.title,children:e.title}),A.jsxs(wt,{gap:10,children:[A.jsx(rn,{children:(n=e.author)==null?void 0:n.name[0]}),A.jsxs("div",{children:[A.jsxs(ct,{level:5,style:{marginBottom:0},children:[(o=e.author)==null?void 0:o.name," (",(a=e.author)==null?void 0:a.username,")"]}),A.jsx(vo,{type:"secondary",children:"Почта: "}),A.jsx("a",{href:`mailto:${(i=e.author)==null?void 0:i.email}`,target:"_blank",children:(c=e.author)==null?void 0:c.email})]})]})]}),hoverable:!0,children:A.jsx(Ue.PreviewGroup,{children:e.photos.map(s=>A.jsx(Ue,{src:s.thumbnailUrl.replace("via.placeholder.com","dummyimage.com"),width:60,height:60,fallback:"/img-placeholder.png",alt:s.title},s.id))},t)})}),ho=({albums:e})=>A.jsx(nn,{gutter:[16,16],children:e.map(t=>A.jsx(on,{xs:24,sm:24,md:12,lg:8,children:A.jsx(go,{album:t})},t.id))}),{Title:po,Text:Co}=Ct,Mo=()=>{const e=Se(m=>m.albums),t=Se(m=>m.isLoading),n=Se(m=>m.error),o=Se(m=>m.hasMore),a=Se(m=>m.fetchMoreAlbums),i=Se(m=>m.reset),{ref:c,inView:s}=mo(),[l,d]=r.useState(""),[v,u]=r.useState(1),C=r.useRef(!0),g=Kt(l,1e3),p=m=>{d(m.target.value),u(1)};return r.useEffect(()=>{i(),u(1),a({page:1,limit:5,reset:!0,searchValue:g})},[g]),r.useEffect(()=>{if(C.current){C.current=!1;return}if(s&&o&&!t){const m=v+1;a({page:m,limit:5,searchValue:g}),u(m)}},[s]),A.jsxs(wt,{vertical:!0,gap:16,children:[A.jsx(po,{level:2,style:{marginBottom:0},children:"Альбомы"}),A.jsx(kt,{value:l,onChange:p,placeholder:"Поиск по названию"}),A.jsx(qt,{style:{margin:0}}),n&&A.jsx(Qt,{type:"error",message:n}),A.jsx(ho,{albums:e}),A.jsxs("div",{ref:c,style:{textAlign:"center",padding:24},children:[t&&A.jsx(Jt,{}),!o&&A.jsx(Co,{strong:!0,children:"Все альбомы загружены"})]})]})};export{Mo as Component};
